(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mf={exports:{}},$s={},yf={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),Gp=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.memo"),tm=Symbol.for("react.lazy"),Du=Symbol.iterator;function nm(e){return e===null||typeof e!="object"?null:(e=Du&&e[Du]||e["@@iterator"],typeof e=="function"?e:null)}var vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gf=Object.assign,wf={};function hr(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||vf}hr.prototype.isReactComponent={};hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _f(){}_f.prototype=hr.prototype;function aa(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||vf}var ua=aa.prototype=new _f;ua.constructor=aa;gf(ua,hr.prototype);ua.isPureReactComponent=!0;var Au=Array.isArray,Sf=Object.prototype.hasOwnProperty,ca={current:null},kf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Sf.call(t,r)&&!kf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wi,type:e,key:s,ref:o,props:i,_owner:ca.current}}function rm(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fa(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function im(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ru=/\/+/g;function yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?im(""+e.key):t.toString(36)}function qi(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wi:case Gp:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+yo(o,0):r,Au(i)?(n="",e!=null&&(n=e.replace(Ru,"$&/")+"/"),qi(i,t,n,"",function(u){return u})):i!=null&&(fa(i)&&(i=rm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ru,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Au(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+yo(s,l);o+=qi(s,t,n,a,i)}else if(a=nm(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+yo(s,l++),o+=qi(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ci(e,t,n){if(e==null)return e;var r=[],i=0;return qi(e,r,"","",function(s){return t.call(n,s,i++)}),r}function sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},Yi={transition:null},om={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Yi,ReactCurrentOwner:ca};function Pf(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ci,forEach:function(e,t,n){Ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ci(e,function(){t++}),t},toArray:function(e){return Ci(e,function(t){return t})||[]},only:function(e){if(!fa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=hr;F.Fragment=Qp;F.Profiler=qp;F.PureComponent=aa;F.StrictMode=Kp;F.Suspense=Zp;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;F.act=Pf;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ca.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Sf.call(t,a)&&!kf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wi,type:e.type,key:i,ref:s,props:r,_owner:o}};F.createContext=function(e){return e={$$typeof:Jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yp,_context:e},e.Consumer=e};F.createElement=Ef;F.createFactory=function(e){var t=Ef.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Xp,render:e}};F.isValidElement=fa;F.lazy=function(e){return{$$typeof:tm,_payload:{_status:-1,_result:e},_init:sm}};F.memo=function(e,t){return{$$typeof:em,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=Yi.transition;Yi.transition={};try{e()}finally{Yi.transition=t}};F.unstable_act=Pf;F.useCallback=function(e,t){return Me.current.useCallback(e,t)};F.useContext=function(e){return Me.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};F.useEffect=function(e,t){return Me.current.useEffect(e,t)};F.useId=function(){return Me.current.useId()};F.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Me.current.useMemo(e,t)};F.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};F.useRef=function(e){return Me.current.useRef(e)};F.useState=function(e){return Me.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return Me.current.useTransition()};F.version="18.3.1";yf.exports=F;var Je=yf.exports;const M=pf(Je);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=Je,am=Symbol.for("react.element"),um=Symbol.for("react.fragment"),cm=Object.prototype.hasOwnProperty,fm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dm={key:!0,ref:!0,__self:!0,__source:!0};function xf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)cm.call(t,r)&&!dm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:am,type:e,key:s,ref:o,props:i,_owner:fm.current}}$s.Fragment=um;$s.jsx=xf;$s.jsxs=xf;mf.exports=$s;var P=mf.exports,Cf={exports:{}},Ke={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var z=N.length;N.push(L);e:for(;0<z;){var Y=z-1>>>1,se=N[Y];if(0<i(se,L))N[Y]=L,N[z]=se,z=Y;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],z=N.pop();if(z!==L){N[0]=z;e:for(var Y=0,se=N.length,zn=se>>>1;Y<zn;){var Ot=2*(Y+1)-1,Ht=N[Ot],he=Ot+1,Bn=N[he];if(0>i(Ht,z))he<se&&0>i(Bn,Ht)?(N[Y]=Bn,N[he]=z,Y=he):(N[Y]=Ht,N[Ot]=z,Y=Ot);else if(he<se&&0>i(Bn,z))N[Y]=Bn,N[he]=z,Y=he;else break e}}return L}function i(N,L){var z=N.sortIndex-L.sortIndex;return z!==0?z:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,p=3,v=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function g(N){if(S=!1,h(N),!w)if(n(a)!==null)w=!0,wr(x);else{var L=n(u);L!==null&&_r(g,L.startTime-N)}}function x(N,L){w=!1,S&&(S=!1,m(D),D=-1),v=!0;var z=p;try{for(h(L),d=n(a);d!==null&&(!(d.expirationTime>L)||N&&!xe());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var se=Y(d.expirationTime<=L);L=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&r(a),h(L)}else r(a);d=n(a)}if(d!==null)var zn=!0;else{var Ot=n(u);Ot!==null&&_r(g,Ot.startTime-L),zn=!1}return zn}finally{d=null,p=z,v=!1}}var T=!1,I=null,D=-1,q=5,B=-1;function xe(){return!(e.unstable_now()-B<q)}function Fe(){if(I!==null){var N=e.unstable_now();B=N;var L=!0;try{L=I(!0,N)}finally{L?mt():(T=!1,I=null)}}else T=!1}var mt;if(typeof f=="function")mt=function(){f(Fe)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,xi=jn.port2;jn.port1.onmessage=Fe,mt=function(){xi.postMessage(null)}}else mt=function(){C(Fe,0)};function wr(N){I=N,T||(T=!0,mt())}function _r(N,L){D=C(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,wr(x))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var z=p;p=L;try{return N()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=p;p=N;try{return L()}finally{p=z}},e.unstable_scheduleCallback=function(N,L,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,N={id:c++,callback:L,priorityLevel:N,startTime:z,expirationTime:se,sortIndex:-1},z>Y?(N.sortIndex=z,t(u,N),n(a)===null&&N===n(u)&&(S?(m(D),D=-1):S=!0,_r(g,z-Y))):(N.sortIndex=se,t(a,N),w||v||(w=!0,wr(x))),N},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(N){var L=p;return function(){var z=p;p=L;try{return N.apply(this,arguments)}finally{p=z}}}})(Of);Nf.exports=Of;var hm=Nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=Je,We=hm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tf=new Set,Jr={};function Rn(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Jr[e]=t,e=0;e<t.length;e++)Tf.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},ju={};function ym(e){return Zo.call(ju,e)?!0:Zo.call(Lu,e)?!1:mm.test(e)?ju[e]=!0:(Lu[e]=!0,!1)}function vm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gm(e,t,n,r){if(t===null||typeof t>"u"||vm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var da=/[\-:]([a-z])/g;function ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(da,ha);ve[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(da,ha);ve[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(da,ha);ve[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function pa(e,t,n,r){var i=ve.hasOwnProperty(t)?ve[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gm(t,n,i,r)&&(n=null),r||i===null?ym(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $t=pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),bn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),ma=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),ya=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),va=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Df=Symbol.for("react.offscreen"),zu=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,vo;function Rr(e){if(vo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vo=t&&t[1]||""}return`
`+vo+e}var go=!1;function wo(e,t){if(!e||go)return"";go=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{go=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function wm(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=wo(e.type,!1),e;case 11:return e=wo(e.type.render,!1),e;case 1:return e=wo(e.type,!0),e;default:return""}}function rl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case bn:return"Portal";case el:return"Profiler";case ma:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mf:return(e.displayName||"Context")+".Consumer";case If:return(e._context.displayName||"Context")+".Provider";case ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case va:return t=e.displayName||null,t!==null?t:rl(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return rl(e(t))}catch{}}return null}function _m(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(t);case 8:return t===ma?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e){var t=Af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=Sm(e))}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Af(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lf(e,t){t=t.checked,t!=null&&pa(e,"checked",t,!1)}function sl(e,t){Lf(e,t);var n=un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lr=Array.isArray;function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Lr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function jf(e,t){var n=un(t.value),r=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ti,Bf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},km=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function Ff(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function bf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ff(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Em=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(Em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,Zn=null,er=null;function $u(e){if(e=ki(e)){if(typeof dl!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Qs(t),dl(e.stateNode,e.type,t))}}function Uf(e){Zn?er?er.push(e):er=[e]:Zn=e}function $f(){if(Zn){var e=Zn,t=er;if(er=Zn=null,$u(e),t)for(e=0;e<t.length;e++)$u(t[e])}}function Vf(e,t){return e(t)}function Hf(){}var _o=!1;function Wf(e,t,n){if(_o)return e(t,n);_o=!0;try{return Vf(e,t,n)}finally{_o=!1,(Zn!==null||er!==null)&&(Hf(),$f())}}function Zr(e,t){var n=e.stateNode;if(n===null)return null;var r=Qs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var hl=!1;if(zt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{hl=!1}function Pm(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $r=!1,ds=null,hs=!1,pl=null,xm={onError:function(e){$r=!0,ds=e}};function Cm(e,t,n,r,i,s,o,l,a){$r=!1,ds=null,Pm.apply(xm,arguments)}function Nm(e,t,n,r,i,s,o,l,a){if(Cm.apply(this,arguments),$r){if($r){var u=ds;$r=!1,ds=null}else throw Error(E(198));hs||(hs=!0,pl=u)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vu(e){if(Ln(e)!==e)throw Error(E(188))}function Om(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vu(i),e;if(s===r)return Vu(i),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Qf(e){return e=Om(e),e!==null?Kf(e):null}function Kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kf(e);if(t!==null)return t;e=e.sibling}return null}var qf=We.unstable_scheduleCallback,Hu=We.unstable_cancelCallback,Tm=We.unstable_shouldYield,Im=We.unstable_requestPaint,ie=We.unstable_now,Mm=We.unstable_getCurrentPriorityLevel,wa=We.unstable_ImmediatePriority,Yf=We.unstable_UserBlockingPriority,ps=We.unstable_NormalPriority,Dm=We.unstable_LowPriority,Jf=We.unstable_IdlePriority,Vs=null,kt=null;function Am(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Vs,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:jm,Rm=Math.log,Lm=Math.LN2;function jm(e){return e>>>=0,e===0?32:31-(Rm(e)/Lm|0)|0}var Ii=64,Mi=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=jr(l):(s&=o,s!==0&&(r=jr(s)))}else o=n&~i,o!==0?r=jr(o):s!==0&&(r=jr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),i=1<<n,r|=e[n],t&=~i;return r}function zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-dt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=zm(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),e}function So(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _i(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function Fm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function _a(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var V=0;function Zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ed,Sa,td,nd,rd,yl=!1,Di=[],Zt=null,en=null,tn=null,ei=new Map,ti=new Map,qt=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wu(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(t.pointerId)}}function Pr(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ki(t),t!==null&&Sa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Um(e,t,n,r,i){switch(t){case"focusin":return Zt=Pr(Zt,e,t,n,r,i),!0;case"dragenter":return en=Pr(en,e,t,n,r,i),!0;case"mouseover":return tn=Pr(tn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ei.set(s,Pr(ei.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ti.set(s,Pr(ti.get(s)||null,e,t,n,r,i)),!0}return!1}function id(e){var t=En(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=Gf(n),t!==null){e.blockedOn=t,rd(e.priority,function(){td(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fl=r,n.target.dispatchEvent(r),fl=null}else return t=ki(n),t!==null&&Sa(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){Ji(e)&&n.delete(t)}function $m(){yl=!1,Zt!==null&&Ji(Zt)&&(Zt=null),en!==null&&Ji(en)&&(en=null),tn!==null&&Ji(tn)&&(tn=null),ei.forEach(Gu),ti.forEach(Gu)}function xr(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,$m)))}function ni(e){function t(i){return xr(i,e)}if(0<Di.length){xr(Di[0],e);for(var n=1;n<Di.length;n++){var r=Di[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&xr(Zt,e),en!==null&&xr(en,e),tn!==null&&xr(tn,e),ei.forEach(t),ti.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)id(n),n.blockedOn===null&&qt.shift()}var tr=$t.ReactCurrentBatchConfig,ys=!0;function Vm(e,t,n,r){var i=V,s=tr.transition;tr.transition=null;try{V=1,ka(e,t,n,r)}finally{V=i,tr.transition=s}}function Hm(e,t,n,r){var i=V,s=tr.transition;tr.transition=null;try{V=4,ka(e,t,n,r)}finally{V=i,tr.transition=s}}function ka(e,t,n,r){if(ys){var i=vl(e,t,n,r);if(i===null)Mo(e,t,r,vs,n),Wu(e,r);else if(Um(i,e,t,n,r))r.stopPropagation();else if(Wu(e,r),t&4&&-1<bm.indexOf(e)){for(;i!==null;){var s=ki(i);if(s!==null&&ed(s),s=vl(e,t,n,r),s===null&&Mo(e,t,r,vs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mo(e,t,r,null,n)}}var vs=null;function vl(e,t,n,r){if(vs=null,e=ga(r),e=En(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mm()){case wa:return 1;case Yf:return 4;case ps:case Dm:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var Jt=null,Ea=null,Xi=null;function od(){if(Xi)return Xi;var e,t=Ea,n=t.length,r,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Xi=i.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Qu(){return!1}function qe(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ai:Qu,this.isPropagationStopped=Qu,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=qe(pr),Si=ee({},pr,{view:0,detail:0}),Wm=qe(Si),ko,Eo,Cr,Hs=ee({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(ko=e.screenX-Cr.screenX,Eo=e.screenY-Cr.screenY):Eo=ko=0,Cr=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),Ku=qe(Hs),Gm=ee({},Hs,{dataTransfer:0}),Qm=qe(Gm),Km=ee({},Si,{relatedTarget:0}),Po=qe(Km),qm=ee({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=qe(qm),Jm=ee({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xm=qe(Jm),Zm=ee({},pr,{data:0}),qu=qe(Zm),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ny[e])?!!t[e]:!1}function xa(){return ry}var iy=ee({},Si,{key:function(e){if(e.key){var t=ey[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sy=qe(iy),oy=ee({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=qe(oy),ly=ee({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),ay=qe(ly),uy=ee({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=qe(uy),fy=ee({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=qe(fy),hy=[9,13,27,32],Ca=zt&&"CompositionEvent"in window,Vr=null;zt&&"documentMode"in document&&(Vr=document.documentMode);var py=zt&&"TextEvent"in window&&!Vr,ld=zt&&(!Ca||Vr&&8<Vr&&11>=Vr),Ju=" ",Xu=!1;function ad(e,t){switch(e){case"keyup":return hy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function my(e,t){switch(e){case"compositionend":return ud(t);case"keypress":return t.which!==32?null:(Xu=!0,Ju);case"textInput":return e=t.data,e===Ju&&Xu?null:e;default:return null}}function yy(e,t){if($n)return e==="compositionend"||!Ca&&ad(e,t)?(e=od(),Xi=Ea=Jt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vy[e.type]:t==="textarea"}function cd(e,t,n,r){Uf(r),t=gs(t,"onChange"),0<t.length&&(n=new Pa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hr=null,ri=null;function gy(e){Sd(e,0)}function Ws(e){var t=Wn(e);if(Rf(t))return e}function wy(e,t){if(e==="change")return t}var fd=!1;if(zt){var xo;if(zt){var Co="oninput"in document;if(!Co){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Co=typeof ec.oninput=="function"}xo=Co}else xo=!1;fd=xo&&(!document.documentMode||9<document.documentMode)}function tc(){Hr&&(Hr.detachEvent("onpropertychange",dd),ri=Hr=null)}function dd(e){if(e.propertyName==="value"&&Ws(ri)){var t=[];cd(t,ri,e,ga(e)),Wf(gy,t)}}function _y(e,t,n){e==="focusin"?(tc(),Hr=t,ri=n,Hr.attachEvent("onpropertychange",dd)):e==="focusout"&&tc()}function Sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(ri)}function ky(e,t){if(e==="click")return Ws(t)}function Ey(e,t){if(e==="input"||e==="change")return Ws(t)}function Py(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Py;function ii(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zo.call(t,i)||!pt(e[i],t[i]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rc(e,t){var n=nc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nc(n)}}function hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xy(e){var t=pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hd(n.ownerDocument.documentElement,n)){if(r!==null&&Na(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rc(n,s);var o=rc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cy=zt&&"documentMode"in document&&11>=document.documentMode,Vn=null,gl=null,Wr=null,wl=!1;function ic(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||Vn==null||Vn!==fs(r)||(r=Vn,"selectionStart"in r&&Na(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&ii(Wr,r)||(Wr=r,r=gs(gl,"onSelect"),0<r.length&&(t=new Pa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vn)))}function Ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},No={},md={};zt&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Gs(e){if(No[e])return No[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in md)return No[e]=t[n];return e}var yd=Gs("animationend"),vd=Gs("animationiteration"),gd=Gs("animationstart"),wd=Gs("transitionend"),_d=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){_d.set(e,t),Rn(t,[e])}for(var Oo=0;Oo<sc.length;Oo++){var To=sc[Oo],Ny=To.toLowerCase(),Oy=To[0].toUpperCase()+To.slice(1);dn(Ny,"on"+Oy)}dn(yd,"onAnimationEnd");dn(vd,"onAnimationIteration");dn(gd,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(wd,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function oc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nm(r,t,void 0,e),e.currentTarget=null}function Sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;oc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;oc(i,l,u),s=a}}}if(hs)throw e=pl,hs=!1,pl=null,e}function G(e,t){var n=t[Pl];n===void 0&&(n=t[Pl]=new Set);var r=e+"__bubble";n.has(r)||(kd(t,e,2,!1),n.add(r))}function Io(e,t,n){var r=0;t&&(r|=4),kd(n,e,r,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function si(e){if(!e[Li]){e[Li]=!0,Tf.forEach(function(n){n!=="selectionchange"&&(Ty.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,Io("selectionchange",!1,t))}}function kd(e,t,n,r){switch(sd(t)){case 1:var i=Vm;break;case 4:i=Hm;break;default:i=ka}n=i.bind(null,t,n,e),i=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mo(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Wf(function(){var u=s,c=ga(n),d=[];e:{var p=_d.get(e);if(p!==void 0){var v=Pa,w=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":v=sy;break;case"focusin":w="focus",v=Po;break;case"focusout":w="blur",v=Po;break;case"beforeblur":case"afterblur":v=Po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ay;break;case yd:case vd:case gd:v=Ym;break;case wd:v=cy;break;case"scroll":v=Wm;break;case"wheel":v=dy;break;case"copy":case"cut":case"paste":v=Xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yu}var S=(t&4)!==0,C=!S&&e==="scroll",m=S?p!==null?p+"Capture":null:p;S=[];for(var f=u,h;f!==null;){h=f;var g=h.stateNode;if(h.tag===5&&g!==null&&(h=g,m!==null&&(g=Zr(f,m),g!=null&&S.push(oi(f,g,h)))),C)break;f=f.return}0<S.length&&(p=new v(p,w,null,n,c),d.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==fl&&(w=n.relatedTarget||n.fromElement)&&(En(w)||w[Bt]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?En(w):null,w!==null&&(C=Ln(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(S=Ku,g="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=Yu,g="onPointerLeave",m="onPointerEnter",f="pointer"),C=v==null?p:Wn(v),h=w==null?p:Wn(w),p=new S(g,f+"leave",v,n,c),p.target=C,p.relatedTarget=h,g=null,En(c)===u&&(S=new S(m,f+"enter",w,n,c),S.target=h,S.relatedTarget=C,g=S),C=g,v&&w)t:{for(S=v,m=w,f=0,h=S;h;h=Fn(h))f++;for(h=0,g=m;g;g=Fn(g))h++;for(;0<f-h;)S=Fn(S),f--;for(;0<h-f;)m=Fn(m),h--;for(;f--;){if(S===m||m!==null&&S===m.alternate)break t;S=Fn(S),m=Fn(m)}S=null}else S=null;v!==null&&lc(d,p,v,S,!1),w!==null&&C!==null&&lc(d,C,w,S,!0)}}e:{if(p=u?Wn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=wy;else if(Zu(p))if(fd)x=Ey;else{x=Sy;var T=_y}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=ky);if(x&&(x=x(e,u))){cd(d,x,n,c);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&ol(p,"number",p.value)}switch(T=u?Wn(u):window,e){case"focusin":(Zu(T)||T.contentEditable==="true")&&(Vn=T,gl=u,Wr=null);break;case"focusout":Wr=gl=Vn=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,ic(d,n,c);break;case"selectionchange":if(Cy)break;case"keydown":case"keyup":ic(d,n,c)}var I;if(Ca)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else $n?ad(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(ld&&n.locale!=="ko"&&($n||D!=="onCompositionStart"?D==="onCompositionEnd"&&$n&&(I=od()):(Jt=c,Ea="value"in Jt?Jt.value:Jt.textContent,$n=!0)),T=gs(u,D),0<T.length&&(D=new qu(D,e,null,n,c),d.push({event:D,listeners:T}),I?D.data=I:(I=ud(n),I!==null&&(D.data=I)))),(I=py?my(e,n):yy(e,n))&&(u=gs(u,"onBeforeInput"),0<u.length&&(c=new qu("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}Sd(d,t)})}function oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zr(e,n),s!=null&&r.unshift(oi(e,s,i)),s=Zr(e,t),s!=null&&r.push(oi(e,s,i))),e=e.return}return r}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Zr(n,s),a!=null&&o.unshift(oi(n,a,l))):i||(a=Zr(n,s),a!=null&&o.push(oi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Iy=/\r\n?/g,My=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Iy,`
`).replace(My,"")}function ji(e,t,n){if(t=ac(t),ac(e)!==t&&n)throw Error(E(425))}function ws(){}var _l=null,Sl=null;function kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,Dy=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(Ry)}:El;function Ry(e){setTimeout(function(){throw e})}function Do(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ni(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ni(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),St="__reactFiber$"+mr,li="__reactProps$"+mr,Bt="__reactContainer$"+mr,Pl="__reactEvents$"+mr,Ly="__reactListeners$"+mr,jy="__reactHandles$"+mr;function En(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[St])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function ki(e){return e=e[St]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Qs(e){return e[li]||null}var xl=[],Gn=-1;function hn(e){return{current:e}}function Q(e){0>Gn||(e.current=xl[Gn],xl[Gn]=null,Gn--)}function H(e,t){Gn++,xl[Gn]=e.current,e.current=t}var cn={},Pe=hn(cn),je=hn(!1),On=cn;function sr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ze(e){return e=e.childContextTypes,e!=null}function _s(){Q(je),Q(Pe)}function fc(e,t,n){if(Pe.current!==cn)throw Error(E(168));H(Pe,t),H(je,n)}function Ed(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,_m(e)||"Unknown",i));return ee({},n,r)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,On=Pe.current,H(Pe,e),H(je,je.current),!0}function dc(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Ed(e,t,On),r.__reactInternalMemoizedMergedChildContext=e,Q(je),Q(Pe),H(Pe,e)):Q(je),H(je,n)}var Dt=null,Ks=!1,Ao=!1;function Pd(e){Dt===null?Dt=[e]:Dt.push(e)}function zy(e){Ks=!0,Pd(e)}function pn(){if(!Ao&&Dt!==null){Ao=!0;var e=0,t=V;try{var n=Dt;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,Ks=!1}catch(i){throw Dt!==null&&(Dt=Dt.slice(e+1)),qf(wa,pn),i}finally{V=t,Ao=!1}}return null}var Qn=[],Kn=0,ks=null,Es=0,Xe=[],Ze=0,Tn=null,At=1,Rt="";function _n(e,t){Qn[Kn++]=Es,Qn[Kn++]=ks,ks=e,Es=t}function xd(e,t,n){Xe[Ze++]=At,Xe[Ze++]=Rt,Xe[Ze++]=Tn,Tn=e;var r=At;e=Rt;var i=32-dt(r)-1;r&=~(1<<i),n+=1;var s=32-dt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,At=1<<32-dt(t)+i|n<<i|r,Rt=s+e}else At=1<<s|n<<i|r,Rt=e}function Oa(e){e.return!==null&&(_n(e,1),xd(e,1,0))}function Ta(e){for(;e===ks;)ks=Qn[--Kn],Qn[Kn]=null,Es=Qn[--Kn],Qn[Kn]=null;for(;e===Tn;)Tn=Xe[--Ze],Xe[Ze]=null,Rt=Xe[--Ze],Xe[Ze]=null,At=Xe[--Ze],Xe[Ze]=null}var He=null,$e=null,K=!1,ct=null;function Cd(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,$e=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:At,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,He=e,$e=null,!0):!1;default:return!1}}function Cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nl(e){if(K){var t=$e;if(t){var n=t;if(!hc(e,t)){if(Cl(e))throw Error(E(418));t=nn(n.nextSibling);var r=He;t&&hc(e,t)?Cd(r,n):(e.flags=e.flags&-4097|2,K=!1,He=e)}}else{if(Cl(e))throw Error(E(418));e.flags=e.flags&-4097|2,K=!1,He=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function zi(e){if(e!==He)return!1;if(!K)return pc(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kl(e.type,e.memoizedProps)),t&&(t=$e)){if(Cl(e))throw Nd(),Error(E(418));for(;t;)Cd(e,t),t=nn(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=He?nn(e.stateNode.nextSibling):null;return!0}function Nd(){for(var e=$e;e;)e=nn(e.nextSibling)}function or(){$e=He=null,K=!1}function Ia(e){ct===null?ct=[e]:ct.push(e)}var By=$t.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Bi(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mc(e){var t=e._init;return t(e._payload)}function Od(e){function t(m,f){if(e){var h=m.deletions;h===null?(m.deletions=[f],m.flags|=16):h.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=ln(m,f),m.index=0,m.sibling=null,m}function s(m,f,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<f?(m.flags|=2,f):h):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,h,g){return f===null||f.tag!==6?(f=bo(h,m.mode,g),f.return=m,f):(f=i(f,h),f.return=m,f)}function a(m,f,h,g){var x=h.type;return x===Un?c(m,f,h.props.children,g,h.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qt&&mc(x)===f.type)?(g=i(f,h.props),g.ref=Nr(m,f,h),g.return=m,g):(g=os(h.type,h.key,h.props,null,m.mode,g),g.ref=Nr(m,f,h),g.return=m,g)}function u(m,f,h,g){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=Uo(h,m.mode,g),f.return=m,f):(f=i(f,h.children||[]),f.return=m,f)}function c(m,f,h,g,x){return f===null||f.tag!==7?(f=Nn(h,m.mode,g,x),f.return=m,f):(f=i(f,h),f.return=m,f)}function d(m,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=bo(""+f,m.mode,h),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ni:return h=os(f.type,f.key,f.props,null,m.mode,h),h.ref=Nr(m,null,f),h.return=m,h;case bn:return f=Uo(f,m.mode,h),f.return=m,f;case Qt:var g=f._init;return d(m,g(f._payload),h)}if(Lr(f)||kr(f))return f=Nn(f,m.mode,h,null),f.return=m,f;Bi(m,f)}return null}function p(m,f,h,g){var x=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:l(m,f,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:return h.key===x?a(m,f,h,g):null;case bn:return h.key===x?u(m,f,h,g):null;case Qt:return x=h._init,p(m,f,x(h._payload),g)}if(Lr(h)||kr(h))return x!==null?null:c(m,f,h,g,null);Bi(m,h)}return null}function v(m,f,h,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(h)||null,l(f,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ni:return m=m.get(g.key===null?h:g.key)||null,a(f,m,g,x);case bn:return m=m.get(g.key===null?h:g.key)||null,u(f,m,g,x);case Qt:var T=g._init;return v(m,f,h,T(g._payload),x)}if(Lr(g)||kr(g))return m=m.get(h)||null,c(f,m,g,x,null);Bi(f,g)}return null}function w(m,f,h,g){for(var x=null,T=null,I=f,D=f=0,q=null;I!==null&&D<h.length;D++){I.index>D?(q=I,I=null):q=I.sibling;var B=p(m,I,h[D],g);if(B===null){I===null&&(I=q);break}e&&I&&B.alternate===null&&t(m,I),f=s(B,f,D),T===null?x=B:T.sibling=B,T=B,I=q}if(D===h.length)return n(m,I),K&&_n(m,D),x;if(I===null){for(;D<h.length;D++)I=d(m,h[D],g),I!==null&&(f=s(I,f,D),T===null?x=I:T.sibling=I,T=I);return K&&_n(m,D),x}for(I=r(m,I);D<h.length;D++)q=v(I,m,D,h[D],g),q!==null&&(e&&q.alternate!==null&&I.delete(q.key===null?D:q.key),f=s(q,f,D),T===null?x=q:T.sibling=q,T=q);return e&&I.forEach(function(xe){return t(m,xe)}),K&&_n(m,D),x}function S(m,f,h,g){var x=kr(h);if(typeof x!="function")throw Error(E(150));if(h=x.call(h),h==null)throw Error(E(151));for(var T=x=null,I=f,D=f=0,q=null,B=h.next();I!==null&&!B.done;D++,B=h.next()){I.index>D?(q=I,I=null):q=I.sibling;var xe=p(m,I,B.value,g);if(xe===null){I===null&&(I=q);break}e&&I&&xe.alternate===null&&t(m,I),f=s(xe,f,D),T===null?x=xe:T.sibling=xe,T=xe,I=q}if(B.done)return n(m,I),K&&_n(m,D),x;if(I===null){for(;!B.done;D++,B=h.next())B=d(m,B.value,g),B!==null&&(f=s(B,f,D),T===null?x=B:T.sibling=B,T=B);return K&&_n(m,D),x}for(I=r(m,I);!B.done;D++,B=h.next())B=v(I,m,D,B.value,g),B!==null&&(e&&B.alternate!==null&&I.delete(B.key===null?D:B.key),f=s(B,f,D),T===null?x=B:T.sibling=B,T=B);return e&&I.forEach(function(Fe){return t(m,Fe)}),K&&_n(m,D),x}function C(m,f,h,g){if(typeof h=="object"&&h!==null&&h.type===Un&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:e:{for(var x=h.key,T=f;T!==null;){if(T.key===x){if(x=h.type,x===Un){if(T.tag===7){n(m,T.sibling),f=i(T,h.props.children),f.return=m,m=f;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qt&&mc(x)===T.type){n(m,T.sibling),f=i(T,h.props),f.ref=Nr(m,T,h),f.return=m,m=f;break e}n(m,T);break}else t(m,T);T=T.sibling}h.type===Un?(f=Nn(h.props.children,m.mode,g,h.key),f.return=m,m=f):(g=os(h.type,h.key,h.props,null,m.mode,g),g.ref=Nr(m,f,h),g.return=m,m=g)}return o(m);case bn:e:{for(T=h.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(m,f.sibling),f=i(f,h.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Uo(h,m.mode,g),f.return=m,m=f}return o(m);case Qt:return T=h._init,C(m,f,T(h._payload),g)}if(Lr(h))return w(m,f,h,g);if(kr(h))return S(m,f,h,g);Bi(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,h),f.return=m,m=f):(n(m,f),f=bo(h,m.mode,g),f.return=m,m=f),o(m)):n(m,f)}return C}var lr=Od(!0),Td=Od(!1),Ps=hn(null),xs=null,qn=null,Ma=null;function Da(){Ma=qn=xs=null}function Aa(e){var t=Ps.current;Q(Ps),e._currentValue=t}function Ol(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nr(e,t){xs=e,Ma=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(xs===null)throw Error(E(308));qn=e,xs.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var Pn=null;function Ra(e){Pn===null?Pn=[e]:Pn.push(e)}function Id(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ft(e,n)}return i=r.interleaved,i===null?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ft(e,n)}function es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_a(e,n)}}function yc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cs(e,t,n,r){var i=e.updateQueue;Kt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var p=l.lane,v=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(p=t,v=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(v,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,p=typeof w=="function"?w.call(v,d,p):w,p==null)break e;d=ee({},d,p);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=d):c=c.next=v,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Mn|=o,e.lanes=o,e.memoizedState=d}}function vc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Ei={},Et=hn(Ei),ai=hn(Ei),ui=hn(Ei);function xn(e){if(e===Ei)throw Error(E(174));return e}function ja(e,t){switch(H(ui,t),H(ai,e),H(Et,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=al(t,e)}Q(Et),H(Et,t)}function ar(){Q(Et),Q(ai),Q(ui)}function Dd(e){xn(ui.current);var t=xn(Et.current),n=al(t,e.type);t!==n&&(H(ai,e),H(Et,n))}function za(e){ai.current===e&&(Q(Et),Q(ai))}var X=hn(0);function Ns(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=[];function Ba(){for(var e=0;e<Ro.length;e++)Ro[e]._workInProgressVersionPrimary=null;Ro.length=0}var ts=$t.ReactCurrentDispatcher,Lo=$t.ReactCurrentBatchConfig,In=0,Z=null,ue=null,fe=null,Os=!1,Gr=!1,ci=0,Fy=0;function ge(){throw Error(E(321))}function Fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,s){if(In=s,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?Vy:Hy,e=n(r,i),Gr){s=0;do{if(Gr=!1,ci=0,25<=s)throw Error(E(301));s+=1,fe=ue=null,t.updateQueue=null,ts.current=Wy,e=n(r,i)}while(Gr)}if(ts.current=Ts,t=ue!==null&&ue.next!==null,In=0,fe=ue=Z=null,Os=!1,t)throw Error(E(300));return e}function Ua(){var e=ci!==0;return ci=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Z.memoizedState=fe=e:fe=fe.next=e,fe}function it(){if(ue===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=fe===null?Z.memoizedState:fe.next;if(t!==null)fe=t,ue=e;else{if(e===null)throw Error(E(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?Z.memoizedState=fe=e:fe=fe.next=e}return fe}function fi(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((In&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Z.lanes|=c,Mn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,pt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Z.lanes|=s,Mn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zo(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);pt(s,t.memoizedState)||(Le=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ad(){}function Rd(e,t){var n=Z,r=it(),i=t(),s=!pt(r.memoizedState,i);if(s&&(r.memoizedState=i,Le=!0),r=r.queue,$a(zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,di(9,jd.bind(null,n,r,i,t),void 0,null),de===null)throw Error(E(349));In&30||Ld(n,t,i)}return i}function Ld(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,r){t.value=n,t.getSnapshot=r,Bd(t)&&Fd(e)}function zd(e,t,n){return n(function(){Bd(t)&&Fd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Fd(e){var t=Ft(e,1);t!==null&&ht(t,e,1,-1)}function gc(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=$y.bind(null,Z,e),[t.memoizedState,e]}function di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bd(){return it().memoizedState}function ns(e,t,n,r){var i=wt();Z.flags|=e,i.memoizedState=di(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var i=it();r=r===void 0?null:r;var s=void 0;if(ue!==null){var o=ue.memoizedState;if(s=o.destroy,r!==null&&Fa(r,o.deps)){i.memoizedState=di(t,n,s,r);return}}Z.flags|=e,i.memoizedState=di(1|t,n,s,r)}function wc(e,t){return ns(8390656,8,e,t)}function $a(e,t){return qs(2048,8,e,t)}function Ud(e,t){return qs(4,2,e,t)}function $d(e,t){return qs(4,4,e,t)}function Vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,Vd.bind(null,t,e),n)}function Va(){}function Wd(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gd(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qd(e,t,n){return In&21?(pt(n,t)||(n=Xf(),Z.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function by(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=Lo.transition;Lo.transition={};try{e(!1),t()}finally{V=n,Lo.transition=r}}function Kd(){return it().memoizedState}function Uy(e,t,n){var r=on(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qd(e))Yd(t,n);else if(n=Id(e,t,n,r),n!==null){var i=Ie();ht(n,e,r,i),Jd(n,t,r)}}function $y(e,t,n){var r=on(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Yd(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,pt(l,o)){var a=t.interleaved;a===null?(i.next=i,Ra(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Id(e,t,i,r),n!==null&&(i=Ie(),ht(n,e,r,i),Jd(n,t,r))}}function qd(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Yd(e,t){Gr=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_a(e,n)}}var Ts={readContext:rt,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Vy={readContext:rt,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:wc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,Vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Uy.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:Va,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=by.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,i=wt();if(K){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),de===null)throw Error(E(349));In&30||Ld(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wc(zd.bind(null,r,s,e),[e]),r.flags|=2048,di(9,jd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=wt(),t=de.identifierPrefix;if(K){var n=Rt,r=At;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ci++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hy={readContext:rt,useCallback:Wd,useContext:rt,useEffect:$a,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:$d,useMemo:Gd,useReducer:jo,useRef:bd,useState:function(){return jo(fi)},useDebugValue:Va,useDeferredValue:function(e){var t=it();return Qd(t,ue.memoizedState,e)},useTransition:function(){var e=jo(fi)[0],t=it().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Rd,useId:Kd,unstable_isNewReconciler:!1},Wy={readContext:rt,useCallback:Wd,useContext:rt,useEffect:$a,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:$d,useMemo:Gd,useReducer:zo,useRef:bd,useState:function(){return zo(fi)},useDebugValue:Va,useDeferredValue:function(e){var t=it();return ue===null?t.memoizedState=e:Qd(t,ue.memoizedState,e)},useTransition:function(){var e=zo(fi)[0],t=it().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Rd,useId:Kd,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ys={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),i=on(e),s=Lt(r,i);s.payload=t,n!=null&&(s.callback=n),t=rn(e,s,i),t!==null&&(ht(t,e,i,r),es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),i=on(e),s=Lt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=rn(e,s,i),t!==null&&(ht(t,e,i,r),es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=on(e),i=Lt(n,r);i.tag=2,t!=null&&(i.callback=t),t=rn(e,i,r),t!==null&&(ht(t,e,r,n),es(t,e,r))}};function _c(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ii(n,r)||!ii(i,s):!0}function Xd(e,t,n){var r=!1,i=cn,s=t.contextType;return typeof s=="object"&&s!==null?s=rt(s):(i=ze(t)?On:Pe.current,r=t.contextTypes,s=(r=r!=null)?sr(e,i):cn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ys,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function Il(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=rt(s):(s=ze(t)?On:Pe.current,i.context=sr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tl(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ys.enqueueReplaceState(i,i.state,null),Cs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=wm(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Bo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gy=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ms||(Ms=!0,Ul=r),Ml(e,t)},n}function eh(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ml(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ml(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ov.bind(null,e,t,n),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var Qy=$t.ReactCurrentOwner,Le=!1;function Oe(e,t,n,r){t.child=e===null?Td(t,null,n,r):lr(t,e.child,n,r)}function xc(e,t,n,r,i){n=n.render;var s=t.ref;return nr(t,i),r=ba(e,t,n,r,s,i),n=Ua(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bt(e,t,i)):(K&&n&&Oa(t),t.flags|=1,Oe(e,t,r,i),t.child)}function Cc(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ja(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,th(e,t,s,r,i)):(e=os(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ii,n(o,r)&&e.ref===t.ref)return bt(e,t,i)}return t.flags|=1,e=ln(s,r),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ii(s,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,bt(e,t,i)}return Dl(e,t,n,r,i)}function nh(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Jn,Ue),Ue|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Jn,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,H(Jn,Ue),Ue|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,H(Jn,Ue),Ue|=r;return Oe(e,t,i,n),t.child}function rh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dl(e,t,n,r,i){var s=ze(n)?On:Pe.current;return s=sr(t,s),nr(t,i),n=ba(e,t,n,r,s,i),r=Ua(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bt(e,t,i)):(K&&r&&Oa(t),t.flags|=1,Oe(e,t,n,i),t.child)}function Nc(e,t,n,r,i){if(ze(n)){var s=!0;Ss(t)}else s=!1;if(nr(t,i),t.stateNode===null)rs(e,t),Xd(t,n,r),Il(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=ze(n)?On:Pe.current,u=sr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Sc(t,o,r,u),Kt=!1;var p=t.memoizedState;o.state=p,Cs(t,r,o,i),a=t.memoizedState,l!==r||p!==a||je.current||Kt?(typeof c=="function"&&(Tl(t,n,c,r),a=t.memoizedState),(l=Kt||_c(t,n,l,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Md(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:lt(t.type,l),o.props=u,d=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=rt(a):(a=ze(n)?On:Pe.current,a=sr(t,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==a)&&Sc(t,o,r,a),Kt=!1,p=t.memoizedState,o.state=p,Cs(t,r,o,i);var w=t.memoizedState;l!==d||p!==w||je.current||Kt?(typeof v=="function"&&(Tl(t,n,v,r),w=t.memoizedState),(u=Kt||_c(t,n,u,r,p,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,s,i)}function Al(e,t,n,r,i,s){rh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&dc(t,n,!1),bt(e,t,s);r=t.stateNode,Qy.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=lr(t,e.child,null,s),t.child=lr(t,null,l,s)):Oe(e,t,l,s),t.memoizedState=r.state,i&&dc(t,n,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),ja(e,t.containerInfo)}function Oc(e,t,n,r,i){return or(),Ia(i),t.flags|=256,Oe(e,t,n,r),t.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function sh(e,t,n){var r=t.pendingProps,i=X.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),H(X,i&1),e===null)return Nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zs(o,r,0,null),e=Nn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ll(n),t.memoizedState=Rl,e):Ha(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ky(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=ln(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ln(l,s):(s=Nn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ll(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Rl,r}return s=e.child,e=s.sibling,r=ln(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ha(e,t){return t=Zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,n,r){return r!==null&&Ia(r),lr(t,e.child,null,n),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ky(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Bo(Error(E(422))),Fi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Zs({mode:"visible",children:r.children},i,0,null),s=Nn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&lr(t,e.child,null,o),t.child.memoizedState=Ll(o),t.memoizedState=Rl,s);if(!(t.mode&1))return Fi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=Bo(s,r,void 0),Fi(e,t,o,r)}if(l=(o&e.childLanes)!==0,Le||l){if(r=de,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ft(e,i),ht(r,e,i,-1))}return Ya(),r=Bo(Error(E(421))),Fi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lv.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$e=nn(i.nextSibling),He=t,K=!0,ct=null,e!==null&&(Xe[Ze++]=At,Xe[Ze++]=Rt,Xe[Ze++]=Tn,At=e.id,Rt=e.overflow,Tn=t),t=Ha(t,r.children),t.flags|=4096,t)}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ol(e.return,t,n)}function Fo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oh(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oe(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(X,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ns(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ns(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fo(t,!0,n,null,s);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qy(e,t,n){switch(t.tag){case 3:ih(t),or();break;case 5:Dd(t);break;case 1:ze(t.type)&&Ss(t);break;case 4:ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;H(Ps,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?sh(e,t,n):(H(X,X.current&1),e=bt(e,t,n),e!==null?e.sibling:null);H(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,nh(e,t,n)}return bt(e,t,n)}var lh,jl,ah,uh;lh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jl=function(){};ah=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xn(Et.current);var s=null;switch(n){case"input":i=il(e,i),r=il(e,r),s=[];break;case"select":i=ee({},i,{value:void 0}),r=ee({},r,{value:void 0}),s=[];break;case"textarea":i=ll(e,i),r=ll(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}ul(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&G("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yy(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return ze(t.type)&&_s(),we(t),null;case 3:return r=t.stateNode,ar(),Q(je),Q(Pe),Ba(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Hl(ct),ct=null))),jl(e,t),we(t),null;case 5:za(t);var i=xn(ui.current);if(n=t.type,e!==null&&t.stateNode!=null)ah(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return we(t),null}if(e=xn(Et.current),zi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[St]=t,r[li]=s,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)G(zr[i],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Bu(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":bu(r,s),G("invalid",r)}ul(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ji(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ji(r.textContent,l,e),i=["children",""+l]):Jr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Oi(r),Fu(r,s,!0);break;case"textarea":Oi(r),Uu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ws)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[St]=t,e[li]=r,lh(e,t,!1,!1),t.stateNode=e;e:{switch(o=cl(n,r),n){case"dialog":G("cancel",e),G("close",e),i=r;break;case"iframe":case"object":case"embed":G("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)G(zr[i],e);i=r;break;case"source":G("error",e),i=r;break;case"img":case"image":case"link":G("error",e),G("load",e),i=r;break;case"details":G("toggle",e),i=r;break;case"input":Bu(e,r),i=il(e,r),G("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ee({},r,{value:void 0}),G("invalid",e);break;case"textarea":bu(e,r),i=ll(e,r),G("invalid",e);break;default:i=r}ul(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?bf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Bf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xr(e,a):typeof a=="number"&&Xr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&G("scroll",e):a!=null&&pa(e,s,a,o))}switch(n){case"input":Oi(e),Fu(e,r,!1);break;case"textarea":Oi(e),Uu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Xn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=xn(ui.current),xn(Et.current),zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(s=r.nodeValue!==n)&&(e=He,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return we(t),null;case 13:if(Q(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&$e!==null&&t.mode&1&&!(t.flags&128))Nd(),or(),t.flags|=98560,s=!1;else if(s=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[St]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),s=!1}else ct!==null&&(Hl(ct),ct=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ce===0&&(ce=3):Ya())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return ar(),jl(e,t),e===null&&si(t.stateNode.containerInfo),we(t),null;case 10:return Aa(t.type._context),we(t),null;case 17:return ze(t.type)&&_s(),we(t),null;case 19:if(Q(X),s=t.memoizedState,s===null)return we(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Or(s,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ns(e),o!==null){for(t.flags|=128,Or(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(X,X.current&1|2),t.child}e=e.sibling}s.tail!==null&&ie()>cr&&(t.flags|=128,r=!0,Or(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ns(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return we(t),null}else 2*ie()-s.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,Or(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ie(),t.sibling=null,n=X.current,H(X,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return qa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Jy(e,t){switch(Ta(t),t.tag){case 1:return ze(t.type)&&_s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),Q(je),Q(Pe),Ba(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(Q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(X),null;case 4:return ar(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return qa(),null;case 24:return null;default:return null}}var bi=!1,ke=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,O=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function zl(e,t,n){try{n()}catch(r){re(e,t,r)}}var Ic=!1;function Zy(e,t){if(_l=ys,e=pd(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++c===r&&(a=o),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sl={focusedElem:e,selectionRange:n},ys=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,C=w.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:lt(t.type,S),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(g){re(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return w=Ic,Ic=!1,w}function Qr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zl(t,n,s)}i=i.next}while(i!==r)}}function Js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ch(e){var t=e.alternate;t!==null&&(e.alternate=null,ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[li],delete t[Pl],delete t[Ly],delete t[jy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fh(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(Fl(e,t,n),e=e.sibling;e!==null;)Fl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}var me=null,at=!1;function Gt(e,t,n){for(n=n.child;n!==null;)dh(e,t,n),n=n.sibling}function dh(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Vs,n)}catch{}switch(n.tag){case 5:ke||Yn(n,t);case 6:var r=me,i=at;me=null,Gt(e,t,n),me=r,at=i,me!==null&&(at?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(at?(e=me,n=n.stateNode,e.nodeType===8?Do(e.parentNode,n):e.nodeType===1&&Do(e,n),ni(e)):Do(me,n.stateNode));break;case 4:r=me,i=at,me=n.stateNode.containerInfo,at=!0,Gt(e,t,n),me=r,at=i;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zl(n,t,o),i=i.next}while(i!==r)}Gt(e,t,n);break;case 1:if(!ke&&(Yn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Gt(e,t,n),ke=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xy),t.forEach(function(r){var i=av.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,at=!1;break e;case 3:me=l.stateNode.containerInfo,at=!0;break e;case 4:me=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(me===null)throw Error(E(160));dh(s,o,i),me=null,at=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hh(t,e),t=t.sibling}function hh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),vt(e),r&4){try{Qr(3,e,e.return),Js(3,e)}catch(S){re(e,e.return,S)}try{Qr(5,e,e.return)}catch(S){re(e,e.return,S)}}break;case 1:st(t,e),vt(e),r&512&&n!==null&&Yn(n,n.return);break;case 5:if(st(t,e),vt(e),r&512&&n!==null&&Yn(n,n.return),e.flags&32){var i=e.stateNode;try{Xr(i,"")}catch(S){re(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Lf(i,s),cl(l,o);var u=cl(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?bf(i,d):c==="dangerouslySetInnerHTML"?Bf(i,d):c==="children"?Xr(i,d):pa(i,c,d,u)}switch(l){case"input":sl(i,s);break;case"textarea":jf(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Xn(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?Xn(i,!!s.multiple,s.defaultValue,!0):Xn(i,!!s.multiple,s.multiple?[]:"",!1))}i[li]=s}catch(S){re(e,e.return,S)}}break;case 6:if(st(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){re(e,e.return,S)}}break;case 3:if(st(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(S){re(e,e.return,S)}break;case 4:st(t,e),vt(e);break;case 13:st(t,e),vt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qa=ie())),r&4&&Dc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(u=ke)||c,st(t,e),ke=u):st(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:Qr(4,p,p.return);break;case 1:Yn(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){re(r,n,S)}}break;case 5:Yn(p,p.return);break;case 22:if(p.memoizedState!==null){Rc(d);continue}}v!==null?(v.return=p,O=v):Rc(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ff("display",o))}catch(S){re(e,e.return,S)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){re(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:st(t,e),vt(e),r&4&&Dc(e);break;case 21:break;default:st(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xr(i,""),r.flags&=-33);var s=Mc(e);bl(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Mc(e);Fl(e,l,o);break;default:throw Error(E(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ev(e,t,n){O=e,ph(e)}function ph(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ke;l=bi;var u=ke;if(bi=o,(ke=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Lc(i):a!==null?(a.return=o,O=a):Lc(i);for(;s!==null;)O=s,ph(s),s=s.sibling;O=i,bi=l,ke=u}Ac(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Ac(e)}}function Ac(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Js(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ni(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ke||t.flags&512&&Bl(t)}catch(p){re(t,t.return,p)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Rc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Lc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Js(4,t)}catch(a){re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){re(t,i,a)}}var s=t.return;try{Bl(t)}catch(a){re(t,s,a)}break;case 5:var o=t.return;try{Bl(t)}catch(a){re(t,o,a)}}}catch(a){re(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var tv=Math.ceil,Is=$t.ReactCurrentDispatcher,Wa=$t.ReactCurrentOwner,nt=$t.ReactCurrentBatchConfig,U=0,de=null,le=null,ye=0,Ue=0,Jn=hn(0),ce=0,hi=null,Mn=0,Xs=0,Ga=0,Kr=null,Re=null,Qa=0,cr=1/0,It=null,Ms=!1,Ul=null,sn=null,Ui=!1,Xt=null,Ds=0,qr=0,$l=null,is=-1,ss=0;function Ie(){return U&6?ie():is!==-1?is:is=ie()}function on(e){return e.mode&1?U&2&&ye!==0?ye&-ye:By.transition!==null?(ss===0&&(ss=Xf()),ss):(e=V,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function ht(e,t,n,r){if(50<qr)throw qr=0,$l=null,Error(E(185));_i(e,n,r),(!(U&2)||e!==de)&&(e===de&&(!(U&2)&&(Xs|=n),ce===4&&Yt(e,ye)),Be(e,r),n===1&&U===0&&!(t.mode&1)&&(cr=ie()+500,Ks&&pn()))}function Be(e,t){var n=e.callbackNode;Bm(e,t);var r=ms(e,e===de?ye:0);if(r===0)n!==null&&Hu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hu(n),t===1)e.tag===0?zy(jc.bind(null,e)):Pd(jc.bind(null,e)),Ay(function(){!(U&6)&&pn()}),n=null;else{switch(Zf(r)){case 1:n=wa;break;case 4:n=Yf;break;case 16:n=ps;break;case 536870912:n=Jf;break;default:n=ps}n=kh(n,mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mh(e,t){if(is=-1,ss=0,U&6)throw Error(E(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=ms(e,e===de?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=As(e,r);else{t=r;var i=U;U|=2;var s=vh();(de!==e||ye!==t)&&(It=null,cr=ie()+500,Cn(e,t));do try{iv();break}catch(l){yh(e,l)}while(!0);Da(),Is.current=s,U=i,le!==null?t=0:(de=null,ye=0,t=ce)}if(t!==0){if(t===2&&(i=ml(e),i!==0&&(r=i,t=Vl(e,i))),t===1)throw n=hi,Cn(e,0),Yt(e,r),Be(e,ie()),n;if(t===6)Yt(e,r);else{if(i=e.current.alternate,!(r&30)&&!nv(i)&&(t=As(e,r),t===2&&(s=ml(e),s!==0&&(r=s,t=Vl(e,s))),t===1))throw n=hi,Cn(e,0),Yt(e,r),Be(e,ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Sn(e,Re,It);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Qa+500-ie(),10<t)){if(ms(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=El(Sn.bind(null,e,Re,It),t);break}Sn(e,Re,It);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tv(r/1960))-r,10<r){e.timeoutHandle=El(Sn.bind(null,e,Re,It),r);break}Sn(e,Re,It);break;case 5:Sn(e,Re,It);break;default:throw Error(E(329))}}}return Be(e,ie()),e.callbackNode===n?mh.bind(null,e):null}function Vl(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=As(e,t),e!==2&&(t=Re,Re=n,t!==null&&Hl(t)),e}function Hl(e){Re===null?Re=e:Re.push.apply(Re,e)}function nv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Ga,t&=~Xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function jc(e){if(U&6)throw Error(E(327));rr();var t=ms(e,0);if(!(t&1))return Be(e,ie()),null;var n=As(e,t);if(e.tag!==0&&n===2){var r=ml(e);r!==0&&(t=r,n=Vl(e,r))}if(n===1)throw n=hi,Cn(e,0),Yt(e,t),Be(e,ie()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Re,It),Be(e,ie()),null}function Ka(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(cr=ie()+500,Ks&&pn())}}function Dn(e){Xt!==null&&Xt.tag===0&&!(U&6)&&rr();var t=U;U|=1;var n=nt.transition,r=V;try{if(nt.transition=null,V=1,e)return e()}finally{V=r,nt.transition=n,U=t,!(U&6)&&pn()}}function qa(){Ue=Jn.current,Q(Jn)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dy(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Ta(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_s();break;case 3:ar(),Q(je),Q(Pe),Ba();break;case 5:za(r);break;case 4:ar();break;case 13:Q(X);break;case 19:Q(X);break;case 10:Aa(r.type._context);break;case 22:case 23:qa()}n=n.return}if(de=e,le=e=ln(e.current,null),ye=Ue=t,ce=0,hi=null,Ga=Xs=Mn=0,Re=Kr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pn=null}return e}function yh(e,t){do{var n=le;try{if(Da(),ts.current=Ts,Os){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Os=!1}if(In=0,fe=ue=Z=null,Gr=!1,ci=0,Wa.current=null,n===null||n.return===null){ce=1,hi=t,le=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Ec(o);if(v!==null){v.flags&=-257,Pc(v,o,l,s,t),v.mode&1&&kc(s,u,t),t=v,a=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(a),t.updateQueue=S}else w.add(a);break e}else{if(!(t&1)){kc(s,u,t),Ya();break e}a=Error(E(426))}}else if(K&&l.mode&1){var C=Ec(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Pc(C,o,l,s,t),Ia(ur(a,l));break e}}s=a=ur(a,l),ce!==4&&(ce=2),Kr===null?Kr=[s]:Kr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Zd(s,a,t);yc(s,m);break e;case 1:l=a;var f=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sn===null||!sn.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var g=eh(s,l,t);yc(s,g);break e}}s=s.return}while(s!==null)}wh(n)}catch(x){t=x,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function vh(){var e=Is.current;return Is.current=Ts,e===null?Ts:e}function Ya(){(ce===0||ce===3||ce===2)&&(ce=4),de===null||!(Mn&268435455)&&!(Xs&268435455)||Yt(de,ye)}function As(e,t){var n=U;U|=2;var r=vh();(de!==e||ye!==t)&&(It=null,Cn(e,t));do try{rv();break}catch(i){yh(e,i)}while(!0);if(Da(),U=n,Is.current=r,le!==null)throw Error(E(261));return de=null,ye=0,ce}function rv(){for(;le!==null;)gh(le)}function iv(){for(;le!==null&&!Tm();)gh(le)}function gh(e){var t=Sh(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?wh(e):le=t,Wa.current=null}function wh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jy(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,le=null;return}}else if(n=Yy(n,t,Ue),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ce===0&&(ce=5)}function Sn(e,t,n){var r=V,i=nt.transition;try{nt.transition=null,V=1,sv(e,t,n,r)}finally{nt.transition=i,V=r}return null}function sv(e,t,n,r){do rr();while(Xt!==null);if(U&6)throw Error(E(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fm(e,s),e===de&&(le=de=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ui||(Ui=!0,kh(ps,function(){return rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nt.transition,nt.transition=null;var o=V;V=1;var l=U;U|=4,Wa.current=null,Zy(e,n),hh(n,e),xy(Sl),ys=!!_l,Sl=_l=null,e.current=n,ev(n),Im(),U=l,V=o,nt.transition=s}else e.current=n;if(Ui&&(Ui=!1,Xt=e,Ds=i),s=e.pendingLanes,s===0&&(sn=null),Am(n.stateNode),Be(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ms)throw Ms=!1,e=Ul,Ul=null,e;return Ds&1&&e.tag!==0&&rr(),s=e.pendingLanes,s&1?e===$l?qr++:(qr=0,$l=e):qr=0,pn(),null}function rr(){if(Xt!==null){var e=Zf(Ds),t=nt.transition,n=V;try{if(nt.transition=null,V=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,Ds=0,U&6)throw Error(E(331));var i=U;for(U|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Qr(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var p=c.sibling,v=c.return;if(ch(c),c===u){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var f=e.current;for(O=f;O!==null;){o=O;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,O=h;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Js(9,l)}}catch(x){re(l,l.return,x)}if(l===o){O=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,O=g;break e}O=l.return}}if(U=i,pn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Vs,e)}catch{}r=!0}return r}finally{V=n,nt.transition=t}}return!1}function zc(e,t,n){t=ur(n,t),t=Zd(e,t,1),e=rn(e,t,1),t=Ie(),e!==null&&(_i(e,1,t),Be(e,t))}function re(e,t,n){if(e.tag===3)zc(e,e,n);else for(;t!==null;){if(t.tag===3){zc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=ur(n,e),e=eh(t,e,1),t=rn(t,e,1),e=Ie(),t!==null&&(_i(t,1,e),Be(t,e));break}}t=t.return}}function ov(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(ye&n)===n&&(ce===4||ce===3&&(ye&130023424)===ye&&500>ie()-Qa?Cn(e,0):Ga|=n),Be(e,t)}function _h(e,t){t===0&&(e.mode&1?(t=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):t=1);var n=Ie();e=Ft(e,t),e!==null&&(_i(e,t,n),Be(e,n))}function lv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_h(e,n)}function av(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),_h(e,n)}var Sh;Sh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,qy(e,t,n);Le=!!(e.flags&131072)}else Le=!1,K&&t.flags&1048576&&xd(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rs(e,t),e=t.pendingProps;var i=sr(t,Pe.current);nr(t,n),i=ba(null,t,r,e,i,n);var s=Ua();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(s=!0,Ss(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,La(t),i.updater=Ys,t.stateNode=i,i._reactInternals=t,Il(t,r,e,n),t=Al(null,t,r,!0,s,n)):(t.tag=0,K&&s&&Oa(t),Oe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cv(r),e=lt(r,e),i){case 0:t=Dl(null,t,r,e,n);break e;case 1:t=Nc(null,t,r,e,n);break e;case 11:t=xc(null,t,r,e,n);break e;case 14:t=Cc(null,t,r,lt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Dl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Nc(e,t,r,i,n);case 3:e:{if(ih(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Md(e,t),Cs(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ur(Error(E(423)),t),t=Oc(e,t,r,n,i);break e}else if(r!==i){i=ur(Error(E(424)),t),t=Oc(e,t,r,n,i);break e}else for($e=nn(t.stateNode.containerInfo.firstChild),He=t,K=!0,ct=null,n=Td(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===i){t=bt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Dd(t),e===null&&Nl(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,kl(r,i)?o=null:s!==null&&kl(r,s)&&(t.flags|=32),rh(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&Nl(t),null;case 13:return sh(e,t,n);case 4:return ja(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),xc(e,t,r,i,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,H(Ps,r._currentValue),r._currentValue=o,s!==null)if(pt(s.value,o)){if(s.children===i.children&&!je.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ol(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ol(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Oe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nr(t,n),i=rt(i),r=r(i),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,i=lt(r,t.pendingProps),i=lt(r.type,i),Cc(e,t,r,i,n);case 15:return th(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),rs(e,t),t.tag=1,ze(r)?(e=!0,Ss(t)):e=!1,nr(t,n),Xd(t,r,i),Il(t,r,i,n),Al(null,t,r,!0,e,n);case 19:return oh(e,t,n);case 22:return nh(e,t,n)}throw Error(E(156,t.tag))};function kh(e,t){return qf(e,t)}function uv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new uv(e,t,n,r)}function Ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cv(e){if(typeof e=="function")return Ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ya)return 11;if(e===va)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function os(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ja(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Un:return Nn(n.children,i,s,t);case ma:o=8,i|=8;break;case el:return e=tt(12,n,t,i|2),e.elementType=el,e.lanes=s,e;case tl:return e=tt(13,n,t,i),e.elementType=tl,e.lanes=s,e;case nl:return e=tt(19,n,t,i),e.elementType=nl,e.lanes=s,e;case Df:return Zs(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case If:o=10;break e;case Mf:o=9;break e;case ya:o=11;break e;case va:o=14;break e;case Qt:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=tt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Nn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function Zs(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Df,e.lanes=n,e.stateNode={isHidden:!1},e}function bo(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Uo(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xa(e,t,n,r,i,s,o,l,a){return e=new fv(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=tt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(s),e}function dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eh(e){if(!e)return cn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(ze(n))return Ed(e,n,t)}return t}function Ph(e,t,n,r,i,s,o,l,a){return e=Xa(n,r,!0,e,i,s,o,l,a),e.context=Eh(null),n=e.current,r=Ie(),i=on(n),s=Lt(r,i),s.callback=t??null,rn(n,s,i),e.current.lanes=i,_i(e,i,r),Be(e,r),e}function eo(e,t,n,r){var i=t.current,s=Ie(),o=on(i);return n=Eh(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(i,t,o),e!==null&&(ht(e,i,o,s),es(e,i,o)),o}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Za(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}function hv(){return null}var xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}to.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));eo(e,t,null,null)};to.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){eo(null,e,null,null)}),t[Bt]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var t=nd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&id(e)}};function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fc(){}function pv(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rs(o);s.call(u)}}var o=Ph(t,r,e,0,null,!1,!1,"",Fc);return e._reactRootContainer=o,e[Bt]=o.current,si(e.nodeType===8?e.parentNode:e),Dn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rs(a);l.call(u)}}var a=Xa(e,0,!1,null,null,!1,!1,"",Fc);return e._reactRootContainer=a,e[Bt]=a.current,si(e.nodeType===8?e.parentNode:e),Dn(function(){eo(t,a,n,r)}),a}function ro(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Rs(o);l.call(a)}}eo(t,o,e,i)}else o=pv(n,t,e,i,r);return Rs(o)}ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(_a(t,n|1),Be(t,ie()),!(U&6)&&(cr=ie()+500,pn()))}break;case 13:Dn(function(){var r=Ft(e,1);if(r!==null){var i=Ie();ht(r,e,1,i)}}),Za(e,1)}};Sa=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ie();ht(t,e,134217728,n)}Za(e,134217728)}};td=function(e){if(e.tag===13){var t=on(e),n=Ft(e,t);if(n!==null){var r=Ie();ht(n,e,t,r)}Za(e,t)}};nd=function(){return V};rd=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};dl=function(e,t,n){switch(t){case"input":if(sl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qs(r);if(!i)throw Error(E(90));Rf(r),sl(r,i)}}}break;case"textarea":jf(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};Vf=Ka;Hf=Dn;var mv={usingClientEntryPoint:!1,Events:[ki,Wn,Qs,Uf,$f,Ka]},Tr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yv={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qf(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$i.isDisabled&&$i.supportsFiber)try{Vs=$i.inject(yv),kt=$i}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mv;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(t))throw Error(E(200));return dv(e,t,null,n)};Ke.createRoot=function(e,t){if(!tu(e))throw Error(E(299));var n=!1,r="",i=xh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xa(e,1,!1,null,null,n,!1,r,i),e[Bt]=t.current,si(e.nodeType===8?e.parentNode:e),new eu(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Qf(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Dn(e)};Ke.hydrate=function(e,t,n){if(!no(t))throw Error(E(200));return ro(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ph(t,null,e,1,n??null,i,!1,s,o),e[Bt]=t.current,si(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new to(t)};Ke.render=function(e,t,n){if(!no(t))throw Error(E(200));return ro(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!no(e))throw Error(E(40));return e._reactRootContainer?(Dn(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Ka;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!no(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ro(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function Ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ch)}catch(e){console.error(e)}}Ch(),Cf.exports=Ke;var vv=Cf.exports,Nh,bc=vv;Nh=bc.createRoot,bc.hydrateRoot;let gv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",wv=(e=21)=>{let t="",n=e|0;for(;n--;)t+=gv[Math.random()*64|0];return t};function ft(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function fr(e){return!!e&&!!e[Ge]}function An(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Nv}(e)||Array.isArray(e)||!!e[Kc]||!!(!((t=e.constructor)===null||t===void 0)&&t[Kc])||nu(e)||ru(e))}function pi(e,t,n){n===void 0&&(n=!1),yr(e)===0?(n?Object.keys:au)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function yr(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:nu(e)?2:ru(e)?3:0}function Wl(e,t){return yr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _v(e,t){return yr(e)===2?e.get(t):e[t]}function Oh(e,t,n){var r=yr(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Sv(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function nu(e){return xv&&e instanceof Map}function ru(e){return Cv&&e instanceof Set}function kn(e){return e.o||e.t}function iu(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ov(e);delete t[Ge];for(var n=au(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function su(e,t){return t===void 0&&(t=!1),ou(e)||fr(e)||!An(e)||(yr(e)>1&&(e.set=e.add=e.clear=e.delete=kv),Object.freeze(e),t&&pi(e,function(n,r){return su(r,!0)},!0)),e}function kv(){ft(2)}function ou(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Pt(e){var t=Tv[e];return t||ft(18,e),t}function Uc(){return mi}function $o(e,t){t&&(Pt("Patches"),e.u=[],e.s=[],e.v=t)}function Ls(e){Gl(e),e.p.forEach(Ev),e.p=null}function Gl(e){e===mi&&(mi=e.l)}function $c(e){return mi={p:[],l:mi,h:e,m:!0,_:0}}function Ev(e){var t=e[Ge];t.i===0||t.i===1?t.j():t.g=!0}function Vo(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Pt("ES5").S(t,e,r),r?(n[Ge].P&&(Ls(t),ft(4)),An(e)&&(e=js(t,e),t.l||zs(t,e)),t.u&&Pt("Patches").M(n[Ge].t,e,t.u,t.s)):e=js(t,n,[]),Ls(t),t.u&&t.v(t.u,t.s),e!==Th?e:void 0}function js(e,t,n){if(ou(t))return t;var r=t[Ge];if(!r)return pi(t,function(l,a){return Vc(e,r,t,l,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return zs(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=iu(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),pi(s,function(l,a){return Vc(e,r,i,l,a,n,o)}),zs(e,i,!1),n&&e.u&&Pt("Patches").N(r,n,e.u,e.s)}return r.o}function Vc(e,t,n,r,i,s,o){if(fr(i)){var l=js(e,i,s&&t&&t.i!==3&&!Wl(t.R,r)?s.concat(r):void 0);if(Oh(n,r,l),!fr(l))return;e.m=!1}else o&&n.add(i);if(An(i)&&!ou(i)){if(!e.h.D&&e._<1)return;js(e,i),t&&t.A.l||zs(e,i)}}function zs(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&su(t,n)}function Ho(e,t){var n=e[Ge];return(n?kn(n):e)[t]}function Hc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ql(e){e.P||(e.P=!0,e.l&&Ql(e.l))}function Wo(e){e.o||(e.o=iu(e.t))}function Kl(e,t,n){var r=nu(t)?Pt("MapSet").F(t,n):ru(t)?Pt("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),l={i:o?1:0,A:s?s.A:Uc(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},a=l,u=ql;o&&(a=[l],u=Br);var c=Proxy.revocable(a,u),d=c.revoke,p=c.proxy;return l.k=p,l.j=d,p}(t,n):Pt("ES5").J(t,n);return(n?n.A:Uc()).p.push(r),r}function Pv(e){return fr(e)||ft(22,e),function t(n){if(!An(n))return n;var r,i=n[Ge],s=yr(n);if(i){if(!i.P&&(i.i<4||!Pt("ES5").K(i)))return i.t;i.I=!0,r=Wc(n,s),i.I=!1}else r=Wc(n,s);return pi(r,function(o,l){i&&_v(i.t,o)===l||Oh(r,o,t(l))}),s===3?new Set(r):r}(e)}function Wc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return iu(e)}var Gc,mi,lu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",xv=typeof Map<"u",Cv=typeof Set<"u",Qc=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Th=lu?Symbol.for("immer-nothing"):((Gc={})["immer-nothing"]=!0,Gc),Kc=lu?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=lu?Symbol.for("immer-state"):"__$immer_state",Nv=""+Object.prototype.constructor,au=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ov=Object.getOwnPropertyDescriptors||function(e){var t={};return au(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Tv={},ql={get:function(e,t){if(t===Ge)return e;var n=kn(e);if(!Wl(n,t))return function(i,s,o){var l,a=Hc(s,o);return a?"value"in a?a.value:(l=a.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!An(r)?r:r===Ho(e.t,t)?(Wo(e),e.o[t]=Kl(e.A.h,r,e)):r},has:function(e,t){return t in kn(e)},ownKeys:function(e){return Reflect.ownKeys(kn(e))},set:function(e,t,n){var r=Hc(kn(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ho(kn(e),t),s=i==null?void 0:i[Ge];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Sv(n,i)&&(n!==void 0||Wl(e.t,t)))return!0;Wo(e),Ql(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Ho(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Wo(e),Ql(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=kn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ft(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ft(12)}},Br={};pi(ql,function(e,t){Br[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Br.deleteProperty=function(e,t){return Br.set.call(this,e,t,void 0)},Br.set=function(e,t,n){return ql.set.call(this,e[0],t,n,e[0])};var Iv=function(){function e(n){var r=this;this.O=Qc,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var a=r;return function(S){var C=this;S===void 0&&(S=l);for(var m=arguments.length,f=Array(m>1?m-1:0),h=1;h<m;h++)f[h-1]=arguments[h];return a.produce(S,function(g){var x;return(x=s).call.apply(x,[C,g].concat(f))})}}var u;if(typeof s!="function"&&ft(6),o!==void 0&&typeof o!="function"&&ft(7),An(i)){var c=$c(r),d=Kl(r,i,void 0),p=!0;try{u=s(d),p=!1}finally{p?Ls(c):Gl(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(S){return $o(c,o),Vo(S,c)},function(S){throw Ls(c),S}):($o(c,o),Vo(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Th&&(u=void 0),r.D&&su(u,!0),o){var v=[],w=[];Pt("Patches").M(i,u,v,w),o(v,w)}return u}ft(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return r.produceWithPatches(u,function(v){return i.apply(void 0,[v].concat(d))})};var o,l,a=r.produce(i,s,function(u,c){o=u,l=c});return typeof Promise<"u"&&a instanceof Promise?a.then(function(u){return[u,o,l]}):[a,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){An(n)||ft(8),fr(n)&&(n=Pv(n));var r=$c(this),i=Kl(this,n,void 0);return i[Ge].C=!0,Gl(r),i},t.finishDraft=function(n,r){var i=n&&n[Ge],s=i.A;return $o(s,r),Vo(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Qc&&ft(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Pt("Patches").$;return fr(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},e}(),Qe=new Iv,Mv=Qe.produce;Qe.produceWithPatches.bind(Qe);Qe.setAutoFreeze.bind(Qe);Qe.setUseProxies.bind(Qe);Qe.applyPatches.bind(Qe);Qe.createDraft.bind(Qe);Qe.finishDraft.bind(Qe);class Dv{constructor(t){const n=Av();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=Math.trunc(t))}}function Av(){let e=4022871197;return function(n){const r=n.toString();for(let i=0;i<r.length;i++){e+=r.charCodeAt(i);let s=.02519603282416938*e;e=s>>>0,s-=e,s*=e,e=s>>>0,s-=e,e+=s*4294967296}return(e>>>0)*23283064365386963e-26}}function qc(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function Ih(e,t){const n=new Dv(e),r=n.next.bind(n);return t&&qc(t,n),r.state=()=>qc(n,{}),r}class Yc{constructor(t){this.state=t||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const t=this.state,n=t.prngstate?"":t.seed,r=Ih(n,t.prngstate),i=r();return this.state={...t,prngstate:r.state()},i}api(){const t=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},r={};for(const s in n){const o=n[s];r[s]=l=>l===void 0?Math.floor(t()*o)+1:Array.from({length:l}).map(()=>Math.floor(t()*o)+1)}function i(s=6,o){return o===void 0?Math.floor(t()*s)+1:Array.from({length:o}).map(()=>Math.floor(t()*s)+1)}return{...r,Die:i,Number:()=>t(),Shuffle:s=>{const o=[...s];let l=s.length,a=0;const u=Array.from({length:l});for(;l;){const c=Math.trunc(l*t());u[a++]=o[c],o[c]=o[--l]}return u},_private:this}}}const Rv={name:"random",noClient:({api:e})=>e._private.isUsed(),flush:({api:e})=>e._private.getState(),api:({data:e})=>new Yc(e).api(),setup:({game:e})=>{let{seed:t}=e;return t===void 0&&(t=Yc.seed()),{seed:t}},playerView:()=>{}};var Lv=Function.prototype,jv=Lv.toString;jv.call(Object);const yi="MAKE_MOVE",io="GAME_EVENT",so="REDO",uu="RESET",cu="SYNC",oo="UNDO",fu="UPDATE",du="PATCH",Mh="PLUGIN",lo="STRIP_TRANSIENTS",Dh=(e,t,n,r)=>({type:yi,payload:{type:e,args:t,playerID:n,credentials:r}}),Yr=(e,t,n,r)=>({type:io,payload:{type:e,args:t,playerID:n,credentials:r}}),Ah=(e,t,n,r)=>({type:io,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),Rh=e=>({type:cu,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),Lh=(e,t,n,r)=>({type:du,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),jh=(e,t)=>({type:fu,state:e,deltalog:t,clientOnly:!0}),zh=e=>({type:uu,state:e,clientOnly:!0}),Bh=(e,t)=>({type:oo,payload:{type:null,args:null,playerID:e,credentials:t}}),Fh=(e,t)=>({type:so,payload:{type:null,args:null,playerID:e,credentials:t}}),zv=(e,t,n,r)=>({type:Mh,payload:{type:e,args:t,playerID:n,credentials:r}}),bh=()=>({type:lo});var Bv=Object.freeze({__proto__:null,makeMove:Dh,gameEvent:Yr,automaticGameEvent:Ah,sync:Rh,patch:Lh,update:jh,reset:zh,undo:Bh,redo:Fh,plugin:zv,stripTransients:bh});const Ee="INVALID_MOVE",Fv={name:"plugin-immer",fnWrap:e=>(t,...n)=>{let r=!1;const i=Mv(t.G,s=>{const o=e({...t,G:s},...n);if(o===Ee){r=!0;return}return o});return r?Ee:i}};var Se;(function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"})(Se||(Se={}));var Mt;(function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",e.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Mt||(Mt={}));class bv{constructor(t,n,r){this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const t={_private:this};for(const n of this.flow.eventNames)t[n]=(...r)=>{this.dispatch.push({type:n,args:r,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(t,n){this.currentPhase=t.phase,this.currentTurn=t.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(t){const n=t,r=({stack:i},s)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:s+`
`+i}}}});e:for(let i=0;i<this.dispatch.length;i++){const s=this.dispatch[i],o=s.turn!==t.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return r(s.error,Mt.MaxTurnEndings);if(s.calledFrom===void 0)return r(s.error,Mt.CalledOutsideHook);if(t.ctx.gameover)break e;switch(s.type){case"endStage":case"setStage":case"setActivePlayers":{switch(s.calledFrom){case Se.TURN_ON_END:case Se.PHASE_ON_END:return r(s.error,Mt.StageEventInOnEnd);case Se.PHASE_ON_BEGIN:return r(s.error,Mt.StageEventInPhaseBegin);case Se.TURN_ON_BEGIN:if(s.type==="setActivePlayers")break;return r(s.error,Mt.StageEventInTurnBegin)}if(o)continue e;break}case"endTurn":{if(s.calledFrom===Se.TURN_ON_END||s.calledFrom===Se.PHASE_ON_END)return r(s.error,Mt.EndTurnInOnEnd);if(o)continue e;break}case"endPhase":case"setPhase":{if(s.calledFrom===Se.PHASE_ON_END)return r(s.error,Mt.PhaseEventInOnEnd);if(s.phase!==t.ctx.phase)continue e;break}}const a=Ah(s.type,s.args,this.playerID);t=this.flow.processEvent(t,a)}return t}}const hu={name:"events",noClient:({api:e})=>e._private.isUsed(),isInvalid:({data:e})=>e.error||!1,fnWrap:(e,t)=>(n,...r)=>{const i=n.events;i&&i._private.updateTurnContext(n.ctx,t);const s=e(n,...r);return i&&i._private.unsetCurrentMethod(),s},dangerouslyFlushRawState:({state:e,api:t})=>t._private.update(e),api:({game:e,ctx:t,playerID:n})=>new bv(e.flow,t,n).api()},Uv={name:"log",flush:()=>({}),api:({data:e})=>({setMetadata:t=>{e.metadata=t}}),setup:()=>({})},$v={name:"plugin-serializable",fnWrap:e=>(t,...n)=>e(t,...n)},Vv=(...e)=>console.error(...e);function $(e){Vv("ERROR:",e)}const pu=[Fv,Rv,Uv,$v],Pi=[...pu,hu],Hv=(e,t,n)=>(n.game.plugins.filter(r=>r.action!==void 0).filter(r=>r.name===t.payload.type).forEach(r=>{const i=r.name,s=e.plugins[i]||{data:{}},o=r.action(s.data,t.payload);e={...e,plugins:{...e.plugins,[i]:{...s,data:o}}}}),e),dr=({plugins:e})=>Object.entries(e||{}).reduce((t,[n,{api:r}])=>(t[n]=r,t),{}),Uh=(e,t,n)=>[...pu,...n,hu].filter(r=>r.fnWrap!==void 0).reduce((r,{fnWrap:i})=>i(r,t),e),Wv=(e,t)=>([...Pi,...t.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const r=n.name,i=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:i}}}}),e),Yl=(e,t)=>([...Pi,...t.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}},s=n.api({G:e.G,ctx:e.ctx,data:i.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...i,api:s}}}}),e),Gv=(e,t)=>([...pu,...t.game.plugins,hu].reverse().forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}};if(n.flush){const s=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data});e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}else if(n.dangerouslyFlushRawState){e=n.dangerouslyFlushRawState({state:e,game:t.game,api:i.api,data:i.data});const s=e.plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}}),e),Qv=(e,t)=>[...Pi,...t.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const r=n.name,i=e.plugins[r];return i?n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data}):!1}).includes(!0),Kv=(e,t)=>[...Pi,...t.game.plugins].filter(r=>r.isInvalid!==void 0).map(r=>{const{name:i}=r,s=e.plugins[i],o=r.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:s&&s.data});return o?{plugin:i,message:o}:!1}).find(r=>r)||!1,$h=(e,t)=>{const n=Gv(e,t),r=Kv(n,t);if(!r)return[n];const{plugin:i,message:s}=r;return $(`${i} plugin declared action invalid:
${s}`),[e,r]},Vh=({G:e,ctx:t,plugins:n={}},{game:r,playerID:i})=>([...Pi,...r.plugins].forEach(({name:s,playerView:o})=>{if(!o)return;const{data:l}=n[s]||{data:{}},a=o({G:e,ctx:t,game:r,data:l,playerID:i});n={...n,[s]:{data:a}}}),n);function Bs(e,t=!1){e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function Fs(e,t){let n={},r=[],i=null,s={},o={};if(Array.isArray(t)){const a={};t.forEach(u=>a[u]=bs.NULL),n=a}else{if(Bs(t),t.next&&(i=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),t.currentPlayer!==void 0&&Vi(n,s,o,e.currentPlayer,t.currentPlayer),t.others!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];u!==e.currentPlayer&&Vi(n,s,o,u,t.others)}if(t.all!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];Vi(n,s,o,u,t.all)}if(t.value)for(const a in t.value)Vi(n,s,o,a,t.value[a]);if(t.minMoves)for(const a in n)s[a]===void 0&&(s[a]=t.minMoves);if(t.maxMoves)for(const a in n)o[a]===void 0&&(o[a]=t.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(s).length===0&&(s=null),Object.keys(o).length===0&&(o=null);const l={};for(const a in n)l[a]=0;return{...e,activePlayers:n,_activePlayersMinMoves:s,_activePlayersMaxMoves:o,_activePlayersNumMoves:l,_prevActivePlayers:r,_nextActivePlayers:i}}function qv(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s,_nextActivePlayers:o}=e;if(t&&Object.keys(t).length===0)if(o)e=Fs(e,o),{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}=e;else if(s.length>0){const l=s.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i}=s[l]),s=s.slice(0,l)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}}function Vi(e,t,n,r,i){(typeof i!="object"||i===bs.NULL)&&(i={stage:i}),i.stage!==void 0&&(Bs(i),e[r]=i.stage,i.minMoves&&(t[r]=i.minMoves),i.maxMoves&&(n[r]=i.maxMoves))}function Jl(e,t){return e[t]+""}function Yv(e,t){let{G:n,ctx:r}=e;const{numPlayers:i}=r,o={...dr(e),G:n,ctx:r},l=t.order;let a=[...Array.from({length:i})].map((p,v)=>v+"");l.playOrder!==void 0&&(a=l.playOrder(o));const u=l.first(o),c=typeof u;c!=="number"&&$(`invalid value returned by turn.order.first  expected number got ${c} ${u}.`);const d=Jl(a,u);return r={...r,currentPlayer:d,playOrderPos:u,playOrder:a},r=Fs(r,t.activePlayers||{}),r}function Jv(e,t,n,r){const i=n.order;let{G:s,ctx:o}=e,l=o.playOrderPos,a=!1;if(r&&r!==!0)typeof r!="object"&&$(`invalid argument to endTurn: ${r}`),Object.keys(r).forEach(u=>{switch(u){case"remove":t=Jl(o.playOrder,l);break;case"next":l=o.playOrder.indexOf(r.next),t=r.next;break;default:$(`invalid argument to endTurn: ${u}`)}});else{const c={...dr(e),G:s,ctx:o},d=i.next(c),p=typeof d;d!==void 0&&p!=="number"&&$(`invalid value returned by turn.order.next  expected number or undefined got ${p} ${d}.`),d===void 0?a=!0:(l=d,t=Jl(o.playOrder,l))}return o={...o,playOrderPos:l,currentPlayer:t},{endPhase:a,ctx:o}}const Xv={DEFAULT:{first:({ctx:e})=>e.turn===0?e.playOrderPos:(e.playOrderPos+1)%e.playOrder.length,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length}},bs={NULL:null};var mu={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.Pointer=jt.escapeToken=jt.unescapeToken=void 0;function Hh(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}jt.unescapeToken=Hh;function Wh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}jt.escapeToken=Wh;var Zv=function(){function e(t){t===void 0&&(t=[""]),this.tokens=t}return e.fromJSON=function(t){var n=t.split("/").map(Hh);if(n[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(t));return new e(n)},e.prototype.toString=function(){return this.tokens.map(Wh).join("/")},e.prototype.evaluate=function(t){for(var n=null,r="",i=t,s=1,o=this.tokens.length;s<o;s++)n=i,r=this.tokens[s],!(r=="__proto__"||r=="constructor"||r=="prototype")&&(i=(n||{})[r]);return{parent:n,key:r,value:i}},e.prototype.get=function(t){return this.evaluate(t).value},e.prototype.set=function(t,n){var r=this.evaluate(t);r.parent&&(r.parent[r.key]=n)},e.prototype.push=function(t){this.tokens.push(t)},e.prototype.add=function(t){var n=this.tokens.concat(String(t));return new e(n)},e}();jt.Pointer=Zv;var ne={},yu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(i){return i===void 0?"undefined":i===null?"null":Array.isArray(i)?"array":typeof i}e.objectType=t;function n(i){return i!=null&&typeof i=="object"}function r(i){if(!n(i))return i;if(i.constructor==Array){for(var s=i.length,o=new Array(s),l=0;l<s;l++)o[l]=r(i[l]);return o}if(i.constructor==Date){var a=new Date(+i);return a}var u={};for(var c in i)e.hasOwnProperty.call(i,c)&&(u[c]=r(i[c]));return u}e.clone=r})(yu);var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.diffAny=Te.diffObjects=Te.diffArrays=Te.intersection=Te.subtract=Te.isDestructive=void 0;var vi=yu;function eg(e){var t=e.op;return t==="remove"||t==="replace"||t==="copy"||t==="move"}Te.isDestructive=eg;function Xl(e,t){var n={};for(var r in e)vi.hasOwnProperty.call(e,r)&&e[r]!==void 0&&(n[r]=1);for(var i in t)vi.hasOwnProperty.call(t,i)&&t[i]!==void 0&&delete n[i];return Object.keys(n)}Te.subtract=Xl;function Gh(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var s in i)vi.hasOwnProperty.call(i,s)&&i[s]!==void 0&&(n[s]=(n[s]||0)+1)}for(var s in n)n[s]<t&&delete n[s];return Object.keys(n)}Te.intersection=Gh;function tg(e){return e.op==="add"}function ng(e){return e.op==="remove"}function Go(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function Qh(e,t,n,r){r===void 0&&(r=ao);var i={"0,0":{operations:[],cost:0}};function s(c,d){var p="".concat(c,",").concat(d),v=i[p];if(v===void 0){if(c>0&&d>0&&!r(e[c-1],t[d-1],n.add(String(c-1))).length)v=s(c-1,d-1);else{var w=[];if(c>0){var S=s(c-1,d),C={op:"remove",index:c-1};w.push(Go(S,C))}if(d>0){var m=s(c,d-1),f={op:"add",index:c-1,value:t[d-1]};w.push(Go(m,f))}if(c>0&&d>0){var h=s(c-1,d-1),g={op:"replace",index:c-1,original:e[c-1],value:t[d-1]};w.push(Go(h,g))}var x=w.sort(function(T,I){return T.cost-I.cost})[0];v=x}i[p]=v}return v}var o=isNaN(e.length)||e.length<=0?0:e.length,l=isNaN(t.length)||t.length<=0?0:t.length,a=s(o,l).operations,u=a.reduce(function(c,d){var p=c[0],v=c[1];if(tg(d)){var w=d.index+1+v,S=w<o+v?String(w):"-",C={op:d.op,path:n.add(S).toString(),value:d.value};return[p.concat(C),v+1]}else if(ng(d)){var C={op:d.op,path:n.add(String(d.index+v)).toString()};return[p.concat(C),v-1]}else{var m=n.add(String(d.index+v)),f=r(d.original,d.value,m);return[p.concat.apply(p,f),v]}},[[],0])[0];return u}Te.diffArrays=Qh;function Kh(e,t,n,r){r===void 0&&(r=ao);var i=[];return Xl(e,t).forEach(function(s){i.push({op:"remove",path:n.add(s).toString()})}),Xl(t,e).forEach(function(s){i.push({op:"add",path:n.add(s).toString(),value:t[s]})}),Gh([e,t]).forEach(function(s){i.push.apply(i,r(e[s],t[s],n.add(s)))}),i}Te.diffObjects=Kh;function ao(e,t,n,r){if(r===void 0&&(r=ao),e===t)return[];var i=(0,vi.objectType)(e),s=(0,vi.objectType)(t);return i=="array"&&s=="array"?Qh(e,t,n,r):i=="object"&&s=="object"?Kh(e,t,n,r):[{op:"replace",path:n.toString(),value:t}]}Te.diffAny=ao;var vu=br&&br.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ne,"__esModule",{value:!0});ne.apply=ne.InvalidOperationError=ne.test=ne.copy=ne.move=ne.replace=ne.remove=ne.add=ne.TestError=ne.MissingError=void 0;var Ut=jt,gu=yu,rg=Te,xt=function(e){vu(t,e);function t(n){var r=e.call(this,"Value required at path: ".concat(n))||this;return r.path=n,r.name="MissingError",r}return t}(Error);ne.MissingError=xt;var qh=function(e){vu(t,e);function t(n,r){var i=e.call(this,"Test failed: ".concat(n," != ").concat(r))||this;return i.actual=n,i.expected=r,i.name="TestError",i}return t}(Error);ne.TestError=qh;function wu(e,t,n){if(Array.isArray(e))if(t=="-")e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function Yh(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function Jh(e,t){var n=Ut.Pointer.fromJSON(t.path).evaluate(e);return n.parent===void 0?new xt(t.path):(wu(n.parent,n.key,(0,gu.clone)(t.value)),null)}ne.add=Jh;function Xh(e,t){var n=Ut.Pointer.fromJSON(t.path).evaluate(e);return n.value===void 0?new xt(t.path):(Yh(n.parent,n.key),null)}ne.remove=Xh;function Zh(e,t){var n=Ut.Pointer.fromJSON(t.path).evaluate(e);if(n.parent===null)return new xt(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new xt(t.path)}else if(n.value===void 0)return new xt(t.path);return n.parent[n.key]=(0,gu.clone)(t.value),null}ne.replace=Zh;function ep(e,t){var n=Ut.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new xt(t.from);var r=Ut.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new xt(t.path):(Yh(n.parent,n.key),wu(r.parent,r.key,n.value),null)}ne.move=ep;function tp(e,t){var n=Ut.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new xt(t.from);var r=Ut.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new xt(t.path):(wu(r.parent,r.key,(0,gu.clone)(n.value)),null)}ne.copy=tp;function np(e,t){var n=Ut.Pointer.fromJSON(t.path).evaluate(e);return(0,rg.diffAny)(n.value,t.value,new Ut.Pointer).length?new qh(n.value,t.value):null}ne.test=np;var rp=function(e){vu(t,e);function t(n){var r=e.call(this,"Invalid operation: ".concat(n.op))||this;return r.operation=n,r.name="InvalidOperationError",r}return t}(Error);ne.InvalidOperationError=rp;function ig(e,t){switch(t.op){case"add":return Jh(e,t);case"remove":return Xh(e,t);case"replace":return Zh(e,t);case"move":return ep(e,t);case"copy":return tp(e,t);case"test":return np(e,t)}return new rp(t)}ne.apply=ig;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=jt;Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=ne,r=Te;function i(u,c){return c.map(function(d){return(0,n.apply)(u,d)})}e.applyPatch=i;function s(u){function c(d,p,v){var w=u(d,p,v);return Array.isArray(w)?w:(0,r.diffAny)(d,p,v,c)}return c}function o(u,c,d){var p=new t.Pointer;return(d?s(d):r.diffAny)(u,c,p)}e.createPatch=o;function l(u,c){var d=t.Pointer.fromJSON(c).evaluate(u);if(d!==void 0)return{op:"test",path:c,value:d.value}}function a(u,c){var d=new Array;return c.filter(r.isDestructive).forEach(function(p){var v=l(u,p.path);if(v&&d.push(v),"from"in p){var w=l(u,p.from);w&&d.push(w)}}),d}e.createTests=a})(mu);function sg({moves:e,phases:t,endIf:n,onEnd:r,turn:i,events:s,plugins:o}){e===void 0&&(e={}),s===void 0&&(s={}),o===void 0&&(o=[]),t===void 0&&(t={}),n||(n=()=>{}),r||(r=({G:y})=>y),i||(i={});const l={...t};""in l&&$("cannot specify phase with empty name"),l[""]={};const a={},u=new Set;let c=null;Object.keys(e).forEach(y=>u.add(y));const d=(y,_)=>{const k=Uh(y,_,o);return j=>{const R=dr(j);return k({...R,G:j.G,ctx:j.ctx,playerID:j.playerID})}},p=y=>_=>{const k=dr(_);return y({...k,G:_.G,ctx:_.ctx})},v={onEnd:d(r,Se.GAME_ON_END),endIf:p(n)};for(const y in l){const _=l[y];if(_.start===!0&&(c=y),_.moves!==void 0)for(const k of Object.keys(_.moves))a[y+"."+k]=_.moves[k],u.add(k);_.endIf===void 0&&(_.endIf=()=>{}),_.onBegin===void 0&&(_.onBegin=({G:k})=>k),_.onEnd===void 0&&(_.onEnd=({G:k})=>k),_.turn===void 0&&(_.turn=i),_.turn.order===void 0&&(_.turn.order=Xv.DEFAULT),_.turn.onBegin===void 0&&(_.turn.onBegin=({G:k})=>k),_.turn.onEnd===void 0&&(_.turn.onEnd=({G:k})=>k),_.turn.endIf===void 0&&(_.turn.endIf=()=>!1),_.turn.onMove===void 0&&(_.turn.onMove=({G:k})=>k),_.turn.stages===void 0&&(_.turn.stages={}),Bs(_.turn,!0);for(const k in _.turn.stages){const R=_.turn.stages[k].moves||{};for(const A of Object.keys(R)){const te=y+"."+k+"."+A;a[te]=R[A],u.add(A)}}if(_.wrapped={onBegin:d(_.onBegin,Se.PHASE_ON_BEGIN),onEnd:d(_.onEnd,Se.PHASE_ON_END),endIf:p(_.endIf)},_.turn.wrapped={onMove:d(_.turn.onMove,Se.TURN_ON_MOVE),onBegin:d(_.turn.onBegin,Se.TURN_ON_BEGIN),onEnd:d(_.turn.onEnd,Se.TURN_ON_END),endIf:p(_.turn.endIf)},typeof _.next!="function"){const{next:k}=_;_.next=()=>k||null}_.wrapped.next=p(_.next)}function w(y){return y.phase?l[y.phase]:l[""]}function S(y){return y}function C(y,_){const k=new Set,j=new Set;for(let R=0;R<_.length;R++){const{fn:A,arg:te,...W}=_[R];if(A===Fe){j.clear();const Ce=y.ctx.phase;if(k.has(Ce)){const yt={...y.ctx,phase:null};return{...y,ctx:yt}}k.add(Ce)}const Ye=[];if(y=A(y,{...W,arg:te,next:Ye}),A===xe)break;const oe=D(y);if(oe){_.push({fn:xe,arg:oe,turn:y.ctx.turn,phase:y.ctx.phase,automatic:!0});continue}const pe=q(y);if(pe){_.push({fn:Fe,arg:pe,turn:y.ctx.turn,phase:y.ctx.phase,automatic:!0});continue}if([S,T,I].includes(A)){const Ce=B(y);if(Ce){_.push({fn:mt,arg:Ce,turn:y.ctx.turn,phase:y.ctx.phase,automatic:!0});continue}}_.push(...Ye)}return y}function m(y,{next:_}){return _.push({fn:f}),y}function f(y,{next:_}){let{G:k,ctx:j}=y;return k=w(j).wrapped.onBegin(y),_.push({fn:h}),{...y,G:k,ctx:j}}function h(y,{currentPlayer:_}){let{ctx:k}=y;const j=w(k);_?(k={...k,currentPlayer:_},j.turn.activePlayers&&(k=Fs(k,j.turn.activePlayers))):k=Yv(y,j.turn);const R=k.turn+1;k={...k,turn:R,numMoves:0,_prevActivePlayers:[]};const A=j.turn.wrapped.onBegin({...y,ctx:k});return{...y,G:A,ctx:k,_undo:[],_redo:[]}}function g(y,{arg:_,next:k,phase:j}){const R=w({phase:j});let{ctx:A}=y;if(_&&_.next)if(_.next in l)A={...A,phase:_.next};else return $("invalid phase: "+_.next),y;else A={...A,phase:R.wrapped.next(y)||null};return y={...y,ctx:A},k.push({fn:f}),y}function x(y,{arg:_,currentPlayer:k,next:j}){let{G:R,ctx:A}=y;const te=w(A),{endPhase:W,ctx:Ye}=Jv(y,k,te.turn,_);return A=Ye,y={...y,G:R,ctx:A},W?j.push({fn:Fe,turn:A.turn,phase:A.phase}):j.push({fn:h,currentPlayer:A.currentPlayer}),y}function T(y,{arg:_,playerID:k}){if((typeof _=="string"||_===bs.NULL)&&(_={stage:_}),typeof _!="object")return y;Bs(_);let{ctx:j}=y,{activePlayers:R,_activePlayersMinMoves:A,_activePlayersMaxMoves:te,_activePlayersNumMoves:W}=j;return _.stage!==void 0&&(R===null&&(R={}),R[k]=_.stage,W[k]=0,_.minMoves&&(A===null&&(A={}),A[k]=_.minMoves),_.maxMoves&&(te===null&&(te={}),te[k]=_.maxMoves)),j={...j,activePlayers:R,_activePlayersMinMoves:A,_activePlayersMaxMoves:te,_activePlayersNumMoves:W},{...y,ctx:j}}function I(y,{arg:_}){return{...y,ctx:Fs(y.ctx,_)}}function D(y){return v.endIf(y)}function q(y){return w(y.ctx).wrapped.endIf(y)}function B(y){const _=w(y.ctx),k=y.ctx.numMoves||0;return _.turn.maxMoves&&k>=_.turn.maxMoves?!0:_.turn.wrapped.endIf(y)}function xe(y,{arg:_,phase:k}){y=Fe(y,{}),_===void 0&&(_=!0),y={...y,ctx:{...y.ctx,gameover:_}};const j=v.onEnd(y);return{...y,G:j}}function Fe(y,{arg:_,next:k,turn:j,automatic:R}){y=mt(y,{turn:j,force:!0,automatic:!0});const{phase:A,turn:te}=y.ctx;if(k&&k.push({fn:g,arg:_,phase:A}),A===null)return y;const Ye=w(y.ctx).wrapped.onEnd(y),oe={...y.ctx,phase:null},pe=Yr("endPhase",_),{_stateID:Ce}=y,yt={action:pe,_stateID:Ce,turn:te,phase:A};R&&(yt.automatic=!0);const mn=[...y.deltalog||[],yt];return{...y,G:Ye,ctx:oe,deltalog:mn}}function mt(y,{arg:_,next:k,turn:j,force:R,automatic:A,playerID:te}){if(j!==y.ctx.turn)return y;const{currentPlayer:W,numMoves:Ye,phase:oe,turn:pe}=y.ctx,Ce=w(y.ctx),yt=Ye||0;if(!R&&Ce.turn.minMoves&&yt<Ce.turn.minMoves)return`${Ce.turn.minMoves}`,y;const mn=Ce.turn.wrapped.onEnd(y);k&&k.push({fn:x,arg:_,currentPlayer:W});let Wt={...y.ctx,activePlayers:null};if(_&&_.remove){te=te||W;const yn=Wt.playOrder.filter(Wp=>Wp!=te),Hp=Wt.playOrderPos>yn.length-1?0:Wt.playOrderPos;if(Wt={...Wt,playOrder:yn,playOrderPos:Hp},yn.length===0)return k.push({fn:Fe,turn:pe,phase:oe}),y}const po=Yr("endTurn",_),{_stateID:Mu}=y,Sr={action:po,_stateID:Mu,turn:pe,phase:oe};A&&(Sr.automatic=!0);const mo=[...y.deltalog||[],Sr];return{...y,G:mn,ctx:Wt,deltalog:mo,_undo:[],_redo:[]}}function jn(y,{arg:_,next:k,automatic:j,playerID:R}){R=R||y.ctx.currentPlayer;let{ctx:A,_stateID:te}=y,{activePlayers:W,_activePlayersNumMoves:Ye,_activePlayersMinMoves:oe,_activePlayersMaxMoves:pe,phase:Ce,turn:yt}=A;const mn=W!==null&&R in W,Wt=w(A);if(!_&&mn){const yn=Wt.turn.stages[W[R]];yn&&yn.next&&(_=yn.next)}if(k&&k.push({fn:T,arg:_,playerID:R}),!mn)return y;const po=Ye[R]||0;if(oe&&oe[R]&&po<oe[R])return`${oe[R]}`,y;W={...W},delete W[R],oe&&(oe={...oe},delete oe[R]),pe&&(pe={...pe},delete pe[R]),A=qv({...A,activePlayers:W,_activePlayersMinMoves:oe,_activePlayersMaxMoves:pe});const Sr={action:Yr("endStage",_),_stateID:te,turn:yt,phase:Ce};j&&(Sr.automatic=!0);const mo=[...y.deltalog||[],Sr];return{...y,ctx:A,deltalog:mo}}function xi(y,_,k){const j=w(y),R=j.turn.stages,{activePlayers:A}=y;if(A&&A[k]!==void 0&&A[k]!==bs.NULL&&R[A[k]]!==void 0&&R[A[k]].moves!==void 0){const W=R[A[k]].moves;if(_ in W)return W[_]}else if(j.moves){if(_ in j.moves)return j.moves[_]}else if(_ in e)return e[_];return null}function wr(y,_){const{playerID:k,type:j}=_,{currentPlayer:R,activePlayers:A,_activePlayersMaxMoves:te}=y.ctx,W=xi(y.ctx,j,k),Ye=!W||typeof W=="function"||W.noLimit!==!0;let{numMoves:oe,_activePlayersNumMoves:pe}=y.ctx;Ye&&(k===R&&oe++,A&&pe[k]++),y={...y,ctx:{...y.ctx,numMoves:oe,_activePlayersNumMoves:pe}},te&&pe[k]>=te[k]&&(y=jn(y,{playerID:k,automatic:!0}));const yt=w(y.ctx).turn.wrapped.onMove({...y,playerID:k});return y={...y,G:yt},C(y,[{fn:S}])}function _r(y,_,k){return C(y,[{fn:jn,arg:k,playerID:_}])}function N(y,_){return C(y,[{fn:jn,playerID:_}])}function L(y,_,k){return C(y,[{fn:I,arg:k}])}function z(y,_,k){return C(y,[{fn:Fe,phase:y.ctx.phase,turn:y.ctx.turn,arg:{next:k}}])}function Y(y){return C(y,[{fn:Fe,phase:y.ctx.phase,turn:y.ctx.turn}])}function se(y,_,k){return C(y,[{fn:mt,turn:y.ctx.turn,phase:y.ctx.phase,arg:k}])}function zn(y,_,k){return C(y,[{fn:mt,turn:y.ctx.turn,phase:y.ctx.phase,force:!0,arg:k}])}function Ot(y,_,k){return C(y,[{fn:xe,turn:y.ctx.turn,phase:y.ctx.phase,arg:k}])}const Ht={endStage:N,setStage:_r,endTurn:se,pass:zn,endPhase:Y,setPhase:z,endGame:Ot,setActivePlayers:L},he=[];s.endTurn!==!1&&he.push("endTurn"),s.pass!==!1&&he.push("pass"),s.endPhase!==!1&&he.push("endPhase"),s.setPhase!==!1&&he.push("setPhase"),s.endGame!==!1&&he.push("endGame"),s.setActivePlayers!==!1&&he.push("setActivePlayers"),s.endStage!==!1&&he.push("endStage"),s.setStage!==!1&&he.push("setStage");function Bn(y,_){const{type:k,playerID:j,args:R}=_.payload;return typeof Ht[k]!="function"?y:Ht[k](y,j,...Array.isArray(R)?R:[R])}function Vp(y,_,k){return _.activePlayers?k in _.activePlayers:_.currentPlayer===k}return{ctx:y=>({numPlayers:y,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:y})].map((_,k)=>k+""),playOrderPos:0,phase:c,activePlayers:null}),init:y=>C(y,[{fn:m}]),isPlayerActive:Vp,eventHandlers:Ht,eventNames:Object.keys(Ht),enabledEventNames:he,moveMap:a,moveNames:[...u.values()],processMove:wr,processEvent:Bn,getMove:xi}}function og(e){return e.processMove!==void 0}function uo(e){if(og(e))return e;if(e.name===void 0&&(e.name="default"),e.deltaState===void 0&&(e.deltaState=!1),e.disableUndo===void 0&&(e.disableUndo=!1),e.setup===void 0&&(e.setup=()=>({})),e.moves===void 0&&(e.moves={}),e.playerView===void 0&&(e.playerView=({G:n})=>n),e.plugins===void 0&&(e.plugins=[]),e.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=sg(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map(n=>n.name),processMove:(n,r)=>{let i=t.getMove(n.ctx,r.type,r.playerID);if(ip(i)&&(i=i.move),i instanceof Function){const s=Uh(i,Se.MOVE,e.plugins);let o=[];r.args!==void 0&&(o=Array.isArray(r.args)?r.args:[r.args]);const l={...dr(n),G:n.G,ctx:n.ctx,playerID:r.playerID};return s(l,...o)}return $(`invalid move object: ${r.type}`),n.G}}}function ip(e){return e instanceof Object&&e.move!==void 0}var Zl;(function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"})(Zl||(Zl={}));var _e;(function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"})(_e||(_e={}));const Hi=e=>e.payload.playerID!==null&&e.payload.playerID!==void 0,lg=(e,t,n)=>{function r(s){return s.undoable!==void 0}function i(s){return s instanceof Function}return r(n)?i(n.undoable)?n.undoable({G:e,ctx:t}):n.undoable:!0};function Jc(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return t.action.type==="MAKE_MOVE"&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function Qo(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},i=e.plugins.log.data.metadata;return i!==void 0&&(r.metadata=i),typeof n=="object"&&n.redact===!0?r.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(r.redact=n.redact({G:e.G,ctx:e.ctx})),{...e,deltalog:[r]}}function Ko(e,t,n){const[r,i]=$h(e,n);return i?[r,Ne(t,_e.PluginActionInvalid,i)]:[r]}function sp(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function Ne(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const op=e=>t=>n=>{const r=t(n);switch(n.type){case lo:return r;default:{const[,i]=sp(e.getState());return typeof i<"u"?(e.dispatch(bh()),{...r,transients:i}):r}}};function _u({game:e,isClient:t}){return e=uo(e),(n=null,r)=>{let[i]=sp(n);switch(r.type){case lo:return i;case io:{if(i={...i,deltalog:[]},t)return i;if(i.ctx.gameover!==void 0)return $("cannot call event after game end"),Ne(i,_e.GameOver);if(Hi(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return $(`disallowed event: ${r.payload.type}`),Ne(i,_e.InactivePlayer);i=Yl(i,{game:e,playerID:r.payload.playerID});let s=e.flow.processEvent(i,r),o;return[s,o]=Ko(s,i,{game:e}),o||(s=Jc(s,{game:e,action:r}),{...s,_stateID:i._stateID+1})}case yi:{const s=i={...i,deltalog:[]},o=e.flow.getMove(i.ctx,r.payload.type,r.payload.playerID||i.ctx.currentPlayer);if(o===null)return $(`disallowed move: ${r.payload.type}`),Ne(i,_e.UnavailableMove);if(t&&o.client===!1)return i;if(i.ctx.gameover!==void 0)return $("cannot make move after game end"),Ne(i,_e.GameOver);if(Hi(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return $(`disallowed move: ${r.payload.type}`),Ne(i,_e.InactivePlayer);i=Yl(i,{game:e,playerID:r.payload.playerID});const l=e.processMove(i,r.payload);if(l===Ee)return $(`invalid move: ${r.payload.type} args: ${r.payload.args}`),Ne(i,_e.InvalidMove);const a={...i,G:l};if(t&&Qv(a,{game:e}))return i;if(i=a,t){let c;return[i,c]=Ko(i,s,{game:e}),c||{...i,_stateID:i._stateID+1}}i=Qo(i,r,o),i=e.flow.processMove(i,r.payload);let u;return[i,u]=Ko(i,s,{game:e}),u||(i=Jc(i,{game:e,action:r}),{...i,_stateID:i._stateID+1})}case uu:case fu:case cu:return r.state;case oo:{if(i={...i,deltalog:[]},e.disableUndo)return $("Undo is not enabled"),Ne(i,_e.ActionDisabled);const{G:s,ctx:o,_undo:l,_redo:a,_stateID:u}=i;if(l.length<2)return $("No moves to undo"),Ne(i,_e.ActionInvalid);const c=l[l.length-1],d=l[l.length-2];if(Hi(r)&&r.payload.playerID!==c.playerID)return $("Cannot undo other players' moves"),Ne(i,_e.ActionInvalid);if(c.moveType){const p=e.flow.getMove(d.ctx,c.moveType,c.playerID);if(!lg(s,o,p))return $("Move cannot be undone"),Ne(i,_e.ActionInvalid)}return i=Qo(i,r),{...i,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:u+1,_undo:l.slice(0,-1),_redo:[c,...a]}}case so:{if(i={...i,deltalog:[]},e.disableUndo)return $("Redo is not enabled"),Ne(i,_e.ActionDisabled);const{_undo:s,_redo:o,_stateID:l}=i;if(o.length===0)return $("No moves to redo"),Ne(i,_e.ActionInvalid);const a=o[0];return Hi(r)&&r.payload.playerID!==a.playerID?($("Cannot redo other players' moves"),Ne(i,_e.ActionInvalid)):(i=Qo(i,r),{...i,G:a.G,ctx:a.ctx,plugins:a.plugins,_stateID:l+1,_undo:[...s,a],_redo:o.slice(1)})}case Mh:return Hv(i,r,{game:e});case du:{const s=i,o=JSON.parse(JSON.stringify(s)),l=mu.applyPatch(o,r.patch);return l.some(u=>u!==null)?($(`Patch ${JSON.stringify(r.patch)} apply failed`),Ne(s,Zl.PatchFailed,l)):o}default:return i}}}(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,s=e.document,o;function l(f){typeof f!="function"&&(f=new Function(""+f));for(var h=new Array(arguments.length-1),g=0;g<h.length;g++)h[g]=arguments[g+1];var x={callback:f,args:h};return r[n]=x,o(n),n++}function a(f){delete r[f]}function u(f){var h=f.callback,g=f.args;switch(g.length){case 0:h();break;case 1:h(g[0]);break;case 2:h(g[0],g[1]);break;case 3:h(g[0],g[1],g[2]);break;default:h.apply(t,g);break}}function c(f){if(i)setTimeout(c,0,f);else{var h=r[f];if(h){i=!0;try{u(h)}finally{a(f),i=!1}}}}function d(){o=function(f){process.nextTick(function(){c(f)})}}function p(){if(e.postMessage&&!e.importScripts){var f=!0,h=e.onmessage;return e.onmessage=function(){f=!1},e.postMessage("","*"),e.onmessage=h,f}}function v(){var f="setImmediate$"+Math.random()+"$",h=function(g){g.source===e&&typeof g.data=="string"&&g.data.indexOf(f)===0&&c(+g.data.slice(f.length))};e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),o=function(g){e.postMessage(f+g,"*")}}function w(){var f=new MessageChannel;f.port1.onmessage=function(h){var g=h.data;c(g)},o=function(h){f.port2.postMessage(h)}}function S(){var f=s.documentElement;o=function(h){var g=s.createElement("script");g.onreadystatechange=function(){c(h),g.onreadystatechange=null,f.removeChild(g),g=null},f.appendChild(g)}}function C(){o=function(f){setTimeout(c,0,f)}}var m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,{}.toString.call(e.process)==="[object process]"?d():p()?v():e.MessageChannel?w():s&&"onreadystatechange"in s.createElement("script")?S():C(),m.setImmediate=l,m.clearImmediate=a})(typeof self>"u"?br:self);class ag{constructor({enumerate:t,seed:n}){this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:t,range:n,initial:r}){this._opts[t]={range:n,value:r}}getOpt(t){return this._opts[t].value}setOpt(t,n){t in this._opts&&(this._opts[t].value=n)}opts(){return this._opts}enumerate(t,n,r){return this.enumerateFn(t,n,r).map(s=>{if("payload"in s)return s;if("move"in s)return Dh(s.move,s.args,r);if("event"in s)return Yr(s.event,s.args,r)})}random(t){let n;if(this.seed!==void 0){const r=this.prngstate?"":this.seed,i=Ih(r,this.prngstate);n=i(),this.prngstate=i.state()}else n=Math.random();if(t)if(Array.isArray(t)){const r=Math.floor(n*t.length);return t[r]}else return Math.floor(n*t);return n}}const ug=25;class cg extends ag{constructor({enumerate:t,seed:n,objectives:r,game:i,iterations:s,playoutDepth:o,iterationCallback:l}){super({enumerate:t,seed:n}),r===void 0&&(r=()=>({})),this.objectives=r,this.iterationCallback=l||(()=>{}),this.reducer=_u({game:i}),this.iterations=s,this.playoutDepth=o,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof s=="number"?s:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof o=="number"?o:50,range:{min:1,max:100}})}createNode({state:t,parentAction:n,parent:r,playerID:i}){const{G:s,ctx:o}=t;let l=[],a=[];if(i!==void 0)l=this.enumerate(s,o,i),a=this.objectives(s,o,i);else if(o.activePlayers)for(const u in o.activePlayers)l.push(...this.enumerate(s,o,u)),a.push(this.objectives(s,o,u));else l=this.enumerate(s,o,o.currentPlayer),a=this.objectives(s,o,o.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:a,children:[],visits:0,value:0}}select(t){if(t.actions.length>0||t.children.length===0)return t;let n=null,r=0;for(const i of t.children){const s=i.visits+Number.EPSILON,o=i.value/s+Math.sqrt(2*Math.log(t.visits)/s);(n==null||o>r)&&(r=o,n=i)}return this.select(n)}expand(t){const n=t.actions;if(n.length===0||t.state.ctx.gameover!==void 0)return t;const r=this.random(n.length),i=n[r];t.actions.splice(r,1);const s=this.reducer(t.state,i),o=this.createNode({state:s,parentAction:i,parent:t});return t.children.push(o),o}playout({state:t}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&t.ctx.gameover===void 0;r++){const{G:i,ctx:s}=t;let o=s.currentPlayer;s.activePlayers&&(o=Object.keys(s.activePlayers)[0]);const l=this.enumerate(i,s,o),a=this.objectives(i,s,o),u=Object.keys(a).reduce((p,v)=>{const w=a[v];return w.checker(i,s)?p+w.weight:p},0);if(u>0)return{score:u};if(!l||l.length===0)return;const c=this.random(l.length);t=this.reducer(t,l[c])}return t.ctx.gameover}backpropagate(t,n={}){t.visits++,n.score!==void 0&&(t.value+=n.score),n.draw===!0&&(t.value+=.5),t.parentAction&&n.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,n)}play(t,n){const r=this.createNode({state:t,playerID:n});let i=this.getOpt("iterations");typeof this.iterations=="function"&&(i=this.iterations(t.G,t.ctx));const s=()=>{let o=null;for(const u of r.children)(o==null||u.visits>o.visits)&&(o=u);return{action:o&&o.parentAction,metadata:r}};return new Promise(o=>{const l=()=>{for(let a=0;a<ug&&this.iterationCounter<i;a++){const u=this.select(r),c=this.expand(u),d=this.playout(c);this.backpropagate(c,d),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:i,metadata:r})};if(this.iterationCounter=0,this.getOpt("async")){const a=()=>{this.iterationCounter<i?(l(),setImmediate(a)):o(s())};a()}else{for(;this.iterationCounter<i;)l();o(s())}})}}function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function fg(e,t){if(gi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dg(e){var t=fg(e,"string");return gi(t)=="symbol"?t:t+""}function hg(e,t,n){return(t=dg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xc(Object(n),!0).forEach(function(r){hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function be(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ef=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),tf=function(){return Math.random().toString(36).substring(7).split("").join(".")},nf={INIT:"@@redux/INIT"+tf(),REPLACE:"@@redux/REPLACE"+tf()};function pg(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Su(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(be(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(be(1));return n(Su)(e,t)}if(typeof e!="function")throw new Error(be(2));var i=e,s=t,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function c(){if(a)throw new Error(be(3));return s}function d(S){if(typeof S!="function")throw new Error(be(4));if(a)throw new Error(be(5));var C=!0;return u(),l.push(S),function(){if(C){if(a)throw new Error(be(6));C=!1,u();var f=l.indexOf(S);l.splice(f,1),o=null}}}function p(S){if(!pg(S))throw new Error(be(7));if(typeof S.type>"u")throw new Error(be(8));if(a)throw new Error(be(9));try{a=!0,s=i(s,S)}finally{a=!1}for(var C=o=l,m=0;m<C.length;m++){var f=C[m];f()}return S}function v(S){if(typeof S!="function")throw new Error(be(10));i=S,p({type:nf.REPLACE})}function w(){var S,C=d;return S={subscribe:function(f){if(typeof f!="object"||f===null)throw new Error(be(11));function h(){f.next&&f.next(c())}h();var g=C(h);return{unsubscribe:g}}},S[ef]=function(){return this},S}return p({type:nf.INIT}),r={dispatch:p,subscribe:d,getState:c,replaceReducer:v},r[ef]=w,r}function lp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function ap(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(be(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(a){return a(o)});return s=lp.apply(void 0,l)(i.dispatch),Zc(Zc({},i),{},{dispatch:s})}}}function up({game:e,numPlayers:t,setupData:n}){e=uo(e),t||(t=2);const r=e.flow.ctx(t);let i={G:{},ctx:r,plugins:{}};i=Wv(i,{game:e}),i=Yl(i,{game:e,playerID:void 0});const s=dr(i);i.G=e.setup({...s,ctx:i.ctx},n);let o={...i,_undo:[],_redo:[],_stateID:0};return o=e.flow.init(o),[o]=$h(o,{game:e}),e.disableUndo||(o._undo=[{G:o.G,ctx:o.ctx,plugins:o.plugins}]),o}let ku=class{constructor({transportDataCallback:t,gameName:n,playerID:r,matchID:i,credentials:s,numPlayers:o}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=i||"default",this.credentials=s,this.numPlayers=o||2}subscribeToConnectionStatus(t){this.connectionStatusCallback=t}setConnectionStatus(t){this.isConnected=t,this.connectionStatusCallback()}notifyClient(t){this.transportDataCallback(t)}};class mg extends ku{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const yg=e=>new mg(e);class vg{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(t){this.clients.set(t,t),this.mountDebug(t),this.notifySubscribers()}unregister(t){if(this.clients.delete(t),this.currentClient===t){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(t){const n=Symbol();return this.subscribers.set(n,t),t(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(t){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===t&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(t),this.notifySubscribers()}switchToClient(t){t!==this.currentClient&&(this.unmountDebug(),this.mountDebug(t),this.notifySubscribers())}notifySubscribers(){const t=this.getState();this.subscribers.forEach(n=>{n(t)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(t=>t.debugOpt!==!1)}mountDebug(t){if(t.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,r=document.body;t.debugOpt&&t.debugOpt!==!0&&(n=t.debugOpt.impl||n,r=t.debugOpt.target||r),n&&(this.currentClient=t,this.debugPanel=new n({target:r,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const gg=new vg;function ea(e,t,n){return!n&&e==null&&(e=t.getState().ctx.currentPlayer),e}function Eu(e,t,n,r,i,s){const o={};for(const l of t)o[l]=(...a)=>{const u=Bv[e](l,a,ea(r,n,s),i);n.dispatch(u)};return o}const wg=Eu.bind(null,"makeMove"),_g=Eu.bind(null,"gameEvent"),Sg=Eu.bind(null,"plugin");class kg{constructor({game:t,debug:n,numPlayers:r,multiplayer:i,matchID:s,playerID:o,credentials:l,enhancer:a}){this.game=uo(t),this.playerID=o,this.matchID=s||"default",this.credentials=l,this.multiplayer=i,this.debugOpt=n,this.manager=gg,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=_u({game:this.game,isClient:i!==void 0}),this.initialState=null,i||(this.initialState=up({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(zh(this.initialState))},this.undo=()=>{const v=Bh(ea(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(v)},this.redo=()=>{const v=Fh(ea(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(v)},this.log=[];const p=ap(op,()=>v=>w=>{const S=v(w);return this.notifySubscribers(),S},v=>w=>S=>{const C=v.getState(),m=w(S);return!("clientOnly"in S)&&S.type!==lo&&this.transport.sendAction(C,S),m},v=>w=>S=>{const C=w(S),m=v.getState();switch(S.type){case yi:case io:case oo:case so:{const f=m.deltalog;this.log=[...this.log,...f];break}case uu:{this.log=[];break}case du:case fu:{let f=-1;this.log.length>0&&(f=this.log[this.log.length-1]._stateID);let h=S.deltalog||[];h=h.filter(g=>g._stateID>f),this.log=[...this.log,...h];break}case cu:{this.initialState=S.initialState,this.log=S.log||[];break}}return C});a=a!==void 0?lp(p,a):p,this.store=Su(this.reducer,this.initialState,a),i||(i=yg),this.transport=i({transportDataCallback:v=>this.receiveTransportData(v),gameKey:t,game:this.game,matchID:s,playerID:o,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=v=>{this.transport.sendChatMessage(this.matchID,{id:wv(7),sender:this.playerID,payload:v})}}receiveMatchData(t){this.matchData=t,this.notifySubscribers()}receiveChatMessage(t){this.chatMessages=[...this.chatMessages,t],this.notifySubscribers()}receiveTransportData(t){const[n]=t.args;if(n===this.matchID)switch(t.type){case"sync":{const[,r]=t.args,i=Rh(r);this.receiveMatchData(r.filteredMetadata),this.store.dispatch(i);break}case"update":{const[,r,i]=t.args,s=this.store.getState();if(r._stateID>=s._stateID){const o=jh(r,i);this.store.dispatch(o)}break}case"patch":{const[,r,i,s,o]=t.args,l=this.store.getState()._stateID;if(r!==l)break;const a=Lh(r,i,s,o);this.store.dispatch(a),this.store.getState()._stateID===l&&this.transport.requestSync();break}case"matchData":{const[,r]=t.args;this.receiveMatchData(r);break}case"chat":{const[,r]=t.args;this.receiveChatMessage(r);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(t=>t(this.getState()))}overrideGameState(t){this.gameStateOverride=t,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(t){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=t,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&t(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let t=this.store.getState();if(this.gameStateOverride!==null&&(t=this.gameStateOverride),t===null)return t;let n=!0;const r=this.game.flow.isPlayerActive(t.G,t.ctx,this.playerID);return this.multiplayer&&!r&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!r&&(n=!1),t.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(t={...t,G:this.game.playerView({G:t.G,ctx:t.ctx,playerID:this.playerID}),plugins:Vh(t,this)}),{...t,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=wg(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=_g(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=Sg(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(t){this.playerID=t,this.createDispatchers(),this.transport.updatePlayerID(t),this.notifySubscribers()}updateMatchID(t){this.matchID=t,this.createDispatchers(),this.transport.updateMatchID(t),this.notifySubscribers()}updateCredentials(t){this.credentials=t,this.createDispatchers(),this.transport.updateCredentials(t),this.notifySubscribers()}}function Eg(e){return new kg(e)}const cp=(e,t)=>{if(!e||typeof e!="string")throw new Error(`Expected ${t} string, got "${e}".`)},vn=e=>cp(e,"game name"),Ir=e=>cp(e,"match ID"),Mr=(e,t)=>{if(!e)throw new Error(`Expected body, got ${e}.`);for(const n in t){const r=t[n],i=Array.isArray(r)?r:[r],s=e[n];if(!i.includes(typeof s)){const o=i.join("|");throw new TypeError(`Expected body.${n} to be of type ${o}, got ${s}.`)}}};class Pg extends Error{constructor(t,n){super(t),this.details=n}}class fp{constructor({server:t=""}={}){this.server=t.replace(/\/$/,"")}async request(t,n){const r=await fetch(this.server+t,n);if(!r.ok){let i;try{i=await r.clone().json()}catch{try{i=await r.text()}catch(s){i=s.message}}throw new Pg(`HTTP status ${r.status}`,i)}return r.json()}async post(t,n){let r={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(r={...r,...n.init,headers:{...r.headers,...n.init.headers}}),this.request(t,r)}async listGames(t){return this.request("/games",t)}async listMatches(t,n,r){vn(t);let i="";if(n){const s=[],{isGameover:o,updatedBefore:l,updatedAfter:a}=n;o!==void 0&&s.push(`isGameover=${o}`),l&&s.push(`updatedBefore=${l}`),a&&s.push(`updatedAfter=${a}`),s.length>0&&(i="?"+s.join("&"))}return this.request(`/games/${t}${i}`,r)}async getMatch(t,n,r){return vn(t),Ir(n),this.request(`/games/${t}/${n}`,r)}async createMatch(t,n,r){return vn(t),Mr(n,{numPlayers:"number"}),this.post(`/games/${t}/create`,{body:n,init:r})}async joinMatch(t,n,r,i){return vn(t),Ir(n),Mr(r,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${t}/${n}/join`,{body:r,init:i})}async leaveMatch(t,n,r,i){vn(t),Ir(n),Mr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/leave`,{body:r,init:i})}async updatePlayer(t,n,r,i){vn(t),Ir(n),Mr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/update`,{body:r,init:i})}async playAgain(t,n,r,i){return vn(t),Ir(n),Mr(r,{playerID:"string",credentials:"string"}),this.post(`/games/${t}/${n}/playAgain`,{body:r,init:i})}}var dp={exports:{}},xg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cg=xg,Ng=Cg;function hp(){}function pp(){}pp.resetWarningCache=hp;var Og=function(){function e(r,i,s,o,l,a){if(a!==Ng){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pp,resetWarningCache:hp};return n.PropTypes=n,n};dp.exports=Og();var Tg=dp.exports;const _t=pf(Tg);var Vt={},Pu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */Pu.parse=Ag;Pu.serialize=Rg;var Ig=decodeURIComponent,Mg=encodeURIComponent,Dg=/; */,Wi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ag(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(Dg),s=r.decode||Ig,o=0;o<i.length;o++){var l=i[o],a=l.indexOf("=");if(!(a<0)){var u=l.substr(0,a).trim(),c=l.substr(++a,l.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),n[u]==null&&(n[u]=Lg(c,s))}}return n}function Rg(e,t,n){var r=n||{},i=r.encode||Mg;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Wi.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!Wi.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Wi.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Wi.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var a=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(a){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Lg(e,t){try{return t(e)}catch{return e}}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rf=Object.getOwnPropertySymbols,jg=Object.prototype.hasOwnProperty,zg=Object.prototype.propertyIsEnumerable;function Bg(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Fg(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var bg=Fg()?Object.assign:function(e,t){for(var n,r=Bg(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)jg.call(n,o)&&(r[o]=n[o]);if(rf){i=rf(n);for(var l=0;l<i.length;l++)zg.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Ug={};Object.defineProperty(Vt,"__esModule",{value:!0});var $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Vt.load=gp;Vt.loadAll=wp;Vt.select=_p;Vt.save=Sp;Vt.remove=kp;Vt.setRawCookie=xu;Vt.plugToRequest=Ep;var Vg=Pu,vr=yp(Vg),Hg=bg,mp=yp(Hg);function yp(e){return e&&e.__esModule?e:{default:e}}var co=typeof document>"u"||typeof process<"u"&&Ug&&!1,Ve={},fn=void 0;function vp(){return fn&&!fn.headersSent}function gp(e,t){var n=co?Ve:vr.default.parse(document.cookie),r=n&&n[e];if(typeof t>"u"&&(t=!r||r[0]!=="{"&&r[0]!=="["),!t)try{r=JSON.parse(r)}catch{}return r}function wp(e){var t=co?Ve:vr.default.parse(document.cookie),n=t;if(typeof e>"u"&&(e=!n||n[0]!=="{"&&n[0]!=="["),!e)try{n=JSON.parse(n)}catch{}return n}function _p(e){var t=co?Ve:vr.default.parse(document.cookie);return t?e?Object.keys(t).reduce(function(n,r){if(!e.test(r))return n;var i={};return i[r]=t[r],(0,mp.default)({},n,i)},{}):t:{}}function Sp(e,t,n){Ve[e]=t,(typeof t>"u"?"undefined":$g(t))==="object"&&(Ve[e]=JSON.stringify(t)),co||(document.cookie=vr.default.serialize(e,Ve[e],n)),vp()&&fn.cookie&&fn.cookie(e,t,n)}function kp(e,t){delete Ve[e],typeof t>"u"?t={}:typeof t=="string"?t={path:t}:t=(0,mp.default)({},t),typeof document<"u"&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=vr.default.serialize(e,"",t)),vp()&&fn.clearCookie&&fn.clearCookie(e,t)}function xu(e){e?Ve=vr.default.parse(e):Ve={}}function Ep(e,t){return e.cookie?Ve=e.cookie:e.cookies?Ve=e.cookies:e.headers&&e.headers.cookie?xu(e.headers.cookie):Ve={},fn=t,function(){fn=null,Ve={}}}var sf=Vt.default={setRawCookie:xu,load:gp,loadAll:wp,select:_p,save:Sp,remove:kp,plugToRequest:Ep},Us;(function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"})(Us||(Us={}));function gn(e){return e.type()===Us.SYNC}class Wg{type(){return Us.SYNC}connect(){}createMatch(t,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(t,n);console.error("The database connector does not implement a createMatch method.")}listMatches(t){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(t);console.error("The database connector does not implement a listMatches method.")}}const Gg=({game:e,unlisted:t,setupData:n,numPlayers:r})=>{const i={gameName:e.name,unlisted:!0,players:{},createdAt:Date.now(),updatedAt:Date.now()};for(let s=0;s<r;s++)i.players[s]={id:s};return i},Qg=({game:e,numPlayers:t,setupData:n,unlisted:r})=>{(!t||typeof t!="number")&&(t=2);const i=e.validateSetupData&&e.validateSetupData(n,t);if(i!==void 0)return{setupDataError:i};const s=Gg({game:e,numPlayers:t,setupData:n,unlisted:r}),o=up({game:e,numPlayers:t,setupData:n});return{metadata:s,initialState:o}},of=e=>Object.values(e.players).map(t=>{const{credentials:n,...r}=t;return r}),Kg=e=>{const{credentials:t,...n}=e.payload;return{...e,payload:n}};class qg{constructor(t,n,r,i){this.game=uo(t),this.storageAPI=n,this.transportAPI=r,this.subscribeCallback=()=>{},this.auth=i}subscribe(t){this.subscribeCallback=t}async onUpdate(t,n,r,i){if(!t||!t.payload)return{error:"missing action or action payload"};let s;if(gn(this.storageAPI)?{metadata:s}=this.storageAPI.fetch(r,{metadata:!0}):{metadata:s}=await this.storageAPI.fetch(r,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:i,credentials:t.payload.credentials,metadata:s}))return{error:"unauthorized action"};const o=Kg(t),l=r;let a;if(gn(this.storageAPI)?{state:a}=this.storageAPI.fetch(l,{state:!0}):{state:a}=await this.storageAPI.fetch(l,{state:!0}),a===void 0)return $(`game not found, matchID=[${l}]`),{error:"game not found"};if(a.ctx.gameover!==void 0){$(`game over - matchID=[${l}] - playerID=[${i}] - action[${o.payload.type}]`);return}const u=_u({game:this.game}),c=ap(op),d=Su(u,a,c);if(o.type==oo||o.type==so){const m=a.ctx.activePlayers!==null,f=a.ctx.currentPlayer===i;if(!m&&!f||m&&(a.ctx.activePlayers[i]===void 0||Object.keys(a.ctx.activePlayers).length>1)){$(`playerID=[${i}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(a.G,a.ctx,i)){$(`player not active - playerID=[${i}] - action[${o.payload.type}]`);return}const p=o.type==yi?this.game.flow.getMove(a.ctx,o.payload.type,i):null;if(o.type==yi&&!p){$(`move not processed - canPlayerMakeMove=false - playerID=[${i}] - action[${o.payload.type}]`);return}if(a._stateID!==n&&!(p&&ip(p)&&p.ignoreStaleStateID)){$(`invalid stateID, was=[${n}], expected=[${a._stateID}] - playerID=[${i}] - action[${o.payload.type}]`);return}const v=d.getState();d.dispatch(o),a=d.getState(),this.subscribeCallback({state:a,action:o,matchID:r}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[r,n,v,a]}):this.transportAPI.sendAll({type:"update",args:[r,a]});const{deltalog:w,...S}=a;let C;if(s&&(s.gameover===void 0||s.gameover===null)&&(C={...s,updatedAt:Date.now()},a.ctx.gameover!==void 0&&(C.gameover=a.ctx.gameover)),gn(this.storageAPI))this.storageAPI.setState(l,S,w),C&&this.storageAPI.setMetadata(l,C);else{const m=[this.storageAPI.setState(l,S,w)];C&&m.push(this.storageAPI.setMetadata(l,C)),await Promise.all(m)}}async onSync(t,n,r,i=2){const s=t,o={state:!0,metadata:!0,log:!0,initialState:!0},l=gn(this.storageAPI)?this.storageAPI.fetch(s,o):await this.storageAPI.fetch(s,o);let{state:a,initialState:u,log:c,metadata:d}=l;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:d}))return{error:"unauthorized"};if(a===void 0){const w=Qg({game:this.game,unlisted:!0,numPlayers:i,setupData:void 0});if("setupDataError"in w)return{error:"game requires setupData"};u=a=w.initialState,d=w.metadata,this.subscribeCallback({state:a,matchID:t}),gn(this.storageAPI)?this.storageAPI.createMatch(s,{initialState:u,metadata:d}):await this.storageAPI.createMatch(s,{initialState:u,metadata:d})}const p=d?of(d):void 0,v={state:a,log:c,filteredMetadata:p,initialState:u};this.transportAPI.send({playerID:n,type:"sync",args:[t,v]})}async onConnectionChange(t,n,r,i){const s=t;if(n==null)return;let o;if(gn(this.storageAPI)?{metadata:o}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:o}=await this.storageAPI.fetch(s,{metadata:!0}),o===void 0)return $(`metadata not found for matchID=[${s}]`),{error:"metadata not found"};if(o.players[n]===void 0)return $(`Player not in the match, matchID=[${s}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:o}))return{error:"unauthorized"};o.players[n].isConnected=i;const l=of(o);this.transportAPI.sendAll({type:"matchData",args:[t,l]}),gn(this.storageAPI)?this.storageAPI.setMetadata(s,o):await this.storageAPI.setMetadata(s,o)}async onChatMessage(t,n,r){const i=t;if(this.auth){const{metadata:s}=await this.storageAPI.fetch(i,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:r,metadata:s}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[t,n]})}}const Gi=(e,t,n)=>({...n,G:e.playerView({G:n.G,ctx:n.ctx,playerID:t}),plugins:Vh(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]}),Yg=e=>(t,n)=>{switch(n.type){case"patch":{const[r,i,s,o]=n.args,l=qo(o.deltalog,t),a=Gi(e,t,o),u=o._stateID,c=Gi(e,t,s),d=mu.createPatch(c,a);return{type:"patch",args:[r,i,u,d,l]}}case"update":{const[r,i]=n.args,s=qo(i.deltalog,t),o=Gi(e,t,i);return{type:"update",args:[r,o,s]}}case"sync":{const[r,i]=n.args,s=Gi(e,t,i.state),o=qo(i.log,t),l={...i,state:s,log:o};return{type:"sync",args:[r,l]}}default:return n}};function qo(e,t){return e===void 0?e:e.map(n=>{if(t!==null&&+t==+n.action.payload.playerID||n.redact!==!0)return n;const r={...n.action.payload,args:null},i={...n,action:{...n.action,payload:r}},{redact:s,...o}=i;return o})}const Nt=Object.create(null);Nt.open="0";Nt.close="1";Nt.ping="2";Nt.pong="3";Nt.message="4";Nt.upgrade="5";Nt.noop="6";const ls=Object.create(null);Object.keys(Nt).forEach(e=>{ls[Nt[e]]=e});const ta={type:"error",data:"parser error"},Pp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xp=typeof ArrayBuffer=="function",Cp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Cu=({type:e,data:t},n,r)=>Pp&&t instanceof Blob?n?r(t):lf(t,r):xp&&(t instanceof ArrayBuffer||Cp(t))?n?r(t):lf(new Blob([t]),r):r(Nt[e]+(t||"")),lf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function af(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Yo;function Jg(e,t){if(Pp&&e.data instanceof Blob)return e.data.arrayBuffer().then(af).then(t);if(xp&&(e.data instanceof ArrayBuffer||Cp(e.data)))return t(af(e.data));Cu(e,!1,n=>{Yo||(Yo=new TextEncoder),t(Yo.encode(n))})}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<uf.length;e++)Fr[uf.charCodeAt(e)]=e;const Xg=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)s=Fr[e.charCodeAt(r)],o=Fr[e.charCodeAt(r+1)],l=Fr[e.charCodeAt(r+2)],a=Fr[e.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|l>>2,c[i++]=(l&3)<<6|a&63;return u},Zg=typeof ArrayBuffer=="function",Nu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Np(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:e0(e.substring(1),t)}:ls[n]?e.length>1?{type:ls[n],data:e.substring(1)}:{type:ls[n]}:ta},e0=(e,t)=>{if(Zg){const n=Xg(e);return Np(n,t)}else return{base64:!0,data:e}},Np=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Op="",t0=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Cu(s,!1,l=>{r[o]=l,++i===n&&t(r.join(Op))})})},n0=(e,t)=>{const n=e.split(Op),r=[];for(let i=0;i<n.length;i++){const s=Nu(n[i],t);if(r.push(s),s.type==="error")break}return r};function r0(){return new TransformStream({transform(e,t){Jg(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Jo;function Qi(e){return e.reduce((t,n)=>t+n.length,0)}function Ki(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function i0(e,t){Jo||(Jo=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Qi(n)<1)break;const a=Ki(n,1);s=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Qi(n)<2)break;const a=Ki(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(Qi(n)<8)break;const a=Ki(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(ta);break}i=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Qi(n)<i)break;const a=Ki(n,i);l.enqueue(Nu(s?a:Jo.decode(a),t)),r=0}if(i===0||i>e){l.enqueue(ta);break}}}})}const Tp=4;function ae(e){if(e)return s0(e)}function s0(e){for(var t in ae.prototype)e[t]=ae.prototype[t];return e}ae.prototype.on=ae.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ae.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ae.prototype.off=ae.prototype.removeListener=ae.prototype.removeAllListeners=ae.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ae.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};ae.prototype.emitReserved=ae.prototype.emit;ae.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ae.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),et=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),o0="arraybuffer";function Ip(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const l0=et.setTimeout,a0=et.clearTimeout;function ho(e,t){t.useNativeTimers?(e.setTimeoutFn=l0.bind(et),e.clearTimeoutFn=a0.bind(et)):(e.setTimeoutFn=et.setTimeout.bind(et),e.clearTimeoutFn=et.clearTimeout.bind(et))}const u0=1.33;function c0(e){return typeof e=="string"?f0(e):Math.ceil((e.byteLength||e.size)*u0)}function f0(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Mp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function d0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function h0(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class p0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ou extends ae{constructor(t){super(),this.writable=!1,ho(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new p0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Nu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=d0(t);return n.length?"?"+n:""}}class m0 extends Ou{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};n0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,t0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Mp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Dp=!1;try{Dp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const y0=Dp;function v0(){}class g0 extends m0{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Ct extends ae{constructor(t,n,r){super(),this.createRequest=t,ho(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Ip(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ct.requestsCount++,Ct.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=v0,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ct.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ct.requestsCount=0;Ct.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cf);else if(typeof addEventListener=="function"){const e="onpagehide"in et?"pagehide":"unload";addEventListener(e,cf,!1)}}function cf(){for(let e in Ct.requests)Ct.requests.hasOwnProperty(e)&&Ct.requests[e].abort()}const w0=function(){const e=Ap({xdomain:!1});return e&&e.responseType!==null}();class _0 extends g0{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=w0&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ct(Ap,this.uri(),t)}}function Ap(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||y0))return new XMLHttpRequest}catch{}if(!t)try{return new et[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Rp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class S0 extends Ou{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Rp?{}:Ip(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Cu(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Mp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Xo=et.WebSocket||et.MozWebSocket;class k0 extends S0{createSocket(t,n,r){return Rp?new Xo(t,n,r):n?new Xo(t,n):new Xo(t)}doWrite(t,n){this.ws.send(n)}}class E0 extends Ou{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=i0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=r0();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const P0={websocket:k0,webtransport:E0,polling:_0},x0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,C0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function na(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=x0.exec(e||""),s={},o=14;for(;o--;)s[C0[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=N0(s,s.path),s.queryKey=O0(s,s.query),s}function N0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function O0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const ra=typeof addEventListener=="function"&&typeof removeEventListener=="function",as=[];ra&&addEventListener("offline",()=>{as.forEach(e=>e())},!1);class an extends ae{constructor(t,n){if(super(),this.binaryType=o0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=na(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=na(n.host).host);ho(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=h0(this.opts.query)),ra&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},as.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Tp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&an.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",an.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=c0(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,fo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(an.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ra&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=as.indexOf(this._offlineEventListener);r!==-1&&as.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}an.protocol=Tp;class T0 extends an{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;an.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;an.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,c(),n.close(),n=null)}const o=d=>{const p=new Error("probe error: "+d);p.transport=n.name,s(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function a(){o("socket closed")}function u(d){n&&d.name!==n.name&&s()}const c=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let I0=class extends T0{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>P0[i]).filter(i=>!!i)),super(t,r)}};function M0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=na(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const D0=typeof ArrayBuffer=="function",A0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Lp=Object.prototype.toString,R0=typeof Blob=="function"||typeof Blob<"u"&&Lp.call(Blob)==="[object BlobConstructor]",L0=typeof File=="function"||typeof File<"u"&&Lp.call(File)==="[object FileConstructor]";function Tu(e){return D0&&(e instanceof ArrayBuffer||A0(e))||R0&&e instanceof Blob||L0&&e instanceof File}function us(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(us(e[n]))return!0;return!1}if(Tu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return us(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&us(e[n]))return!0;return!1}function j0(e){const t=[],n=e.data,r=e;return r.data=ia(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ia(e,t){if(!e)return e;if(Tu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ia(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ia(e[r],t));return n}return e}function z0(e,t){return e.data=sa(e.data,t),delete e.attachments,e}function sa(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=sa(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=sa(e[n],t));return e}const B0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var b;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(b||(b={}));class F0{constructor(t){this.replacer=t}encode(t){return(t.type===b.EVENT||t.type===b.ACK)&&us(t)?this.encodeAsBinary({type:t.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===b.BINARY_EVENT||t.type===b.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=j0(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Iu extends ae{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===b.BINARY_EVENT;r||n.type===b.BINARY_ACK?(n.type=r?b.EVENT:b.ACK,this.reconstructor=new b0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Tu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(b[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===b.BINARY_EVENT||r.type===b.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Iu.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case b.CONNECT:return ff(n);case b.DISCONNECT:return n===void 0;case b.CONNECT_ERROR:return typeof n=="string"||ff(n);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&B0.indexOf(n[0])===-1);case b.ACK:case b.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class b0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=z0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ff(e){return Object.prototype.toString.call(e)==="[object Object]"}const U0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Iu,Encoder:F0,get PacketType(){return b}},Symbol.toStringTag,{value:"Module"}));function ut(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const $0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jp extends ae{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ut(t,"open",this.onopen.bind(this)),ut(t,"packet",this.onpacket.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,s;if($0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:b.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,d=n.pop();this._registerAckCallback(c,d),o.id=c}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>(this._queue[0],i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:b.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case b.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(t);break;case b.ACK:case b.BINARY_ACK:this.onack(t);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:b.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:b.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function gr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};gr.prototype.reset=function(){this.attempts=0};gr.prototype.setMin=function(e){this.ms=e};gr.prototype.setMax=function(e){this.max=e};gr.prototype.setJitter=function(e){this.jitter=e};class oa extends ae{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ho(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new gr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||U0;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new I0(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ut(n,"open",function(){r.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=ut(n,"error",s);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ut(t,"ping",this.onping.bind(this)),ut(t,"data",this.ondata.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this)),ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){fo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new jp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Dr={};function cs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=M0(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Dr[i]&&s in Dr[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new oa(r,t):(Dr[i]||(Dr[i]=new oa(r,t)),a=Dr[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(cs,{Manager:oa,Socket:jp,io:cs,connect:cs});class zp extends Wg{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(t,n){this.initial.set(t,n.initialState),this.setState(t,n.initialState),this.setMetadata(t,n.metadata)}setMetadata(t,n){this.metadata.set(t,n)}setState(t,n,r){if(r&&r.length>0){const i=this.log.get(t)||[];this.log.set(t,[...i,...r])}this.state.set(t,n)}fetch(t,n){const r={};return n.state&&(r.state=this.state.get(t)),n.metadata&&(r.metadata=this.metadata.get(t)),n.log&&(r.log=this.log.get(t)||[]),n.initialState&&(r.initialState=this.initial.get(t)),r}wipe(t){this.state.delete(t),this.metadata.delete(t)}listMatches(t){return[...this.metadata.entries()].filter(([,n])=>t?!(t.gameName!==void 0&&n.gameName!==t.gameName||t.where!==void 0&&(t.where.isGameover!==void 0&&n.gameover!==void 0!==t.where.isGameover||t.where.updatedBefore!==void 0&&n.updatedAt>=t.where.updatedBefore||t.where.updatedAfter!==void 0&&n.updatedAt<=t.where.updatedAfter)):!0).map(([n])=>n)}}class V0 extends Map{constructor(t){super(),this.key=t,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(r=>this.set(...r))}sync(){const t=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(t))}set(t,n){return super.set(t,n),this.sync(),this}delete(t){const n=super.delete(t);return this.sync(),n}}class H0 extends zp{constructor(t="bgio"){super();const n=r=>new V0(`${t}_${r}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function W0(e,t){if(e.ctx.gameover!==void 0)return null;if(e.ctx.activePlayers){for(const n of Object.keys(t))if(n in e.ctx.activePlayers)return n}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}class G0 extends qg{constructor({game:t,bots:n,storageKey:r,persist:i}){const s={},o={};if(t&&t.ai&&n)for(const d in n){const p=n[d];o[d]=new p({game:t,enumerate:t.ai.enumerate,seed:t.seed})}const l=({playerID:d,...p})=>{const v=s[d];v!==void 0&&v(a(d,p))},a=Yg(t),u={send:l,sendAll:d=>{for(const p in s)l({playerID:p,...d})}},c=i?new H0(r):new zp;super(t,c,u),this.connect=(d,p)=>{s[d]=p},this.subscribe(({state:d,matchID:p})=>{if(!n)return;const v=W0(d,o);v!==null&&setTimeout(async()=>{const w=await o[v].play(d,v);await this.onUpdate(w.action,d._stateID,p,w.action.payload.playerID)},100)})}}class Q0 extends ku{constructor({master:t,...n}){super(n),this.master=t}sendChatMessage(t,n){const r=[t,n,this.credentials];this.master.onChatMessage(...r)}sendAction(t,n){this.master.onUpdate(n,t._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,t=>this.notifyClient(t)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(t){this.matchID=t,this.connect()}updatePlayerID(t){this.playerID=t,this.connect()}updateCredentials(t){this.credentials=t,this.connect()}}const df=new Map;function K0({bots:e,persist:t,storageKey:n}={}){return r=>{const{gameKey:i,game:s}=r;let o;const l=df.get(i);return l&&l.bots===e&&l.storageKey===n&&l.persist===t&&(o=l.master),o||(o=new G0({game:s,bots:e,persist:t,storageKey:n}),df.set(i,{master:o,bots:e,persist:t,storageKey:n})),new Q0({master:o,...r})}}const hf=cs;class q0 extends ku{constructor({socket:t,socketOpts:n,server:r,...i}){super(i),this.server=r,this.socket=t,this.socketOpts=n}sendAction(t,n){const r=[n,t._stateID,this.matchID,this.playerID];this.socket.emit("update",...r)}sendChatMessage(t,n){const r=[t,n,this.credentials];this.socket.emit("chat",...r)}connect(){if(!this.socket)if(this.server){let t=this.server;t.search(/^https?:\/\//)==-1&&(t="http://"+this.server),t.slice(-1)!="/"&&(t=t+"/"),this.socket=hf(t+this.gameName,this.socketOpts)}else this.socket=hf("/"+this.gameName,this.socketOpts);this.socket.on("patch",(t,n,r,i,s)=>{this.notifyClient({type:"patch",args:[t,n,r,i,s]})}),this.socket.on("update",(t,n,r)=>{this.notifyClient({type:"update",args:[t,n,r]})}),this.socket.on("sync",(t,n)=>{this.notifyClient({type:"sync",args:[t,n]})}),this.socket.on("matchData",(t,n)=>{this.notifyClient({type:"matchData",args:[t,n]})}),this.socket.on("chat",(t,n)=>{this.notifyClient({type:"chat",args:[t,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const t=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...t)}}updateMatchID(t){this.matchID=t,this.requestSync()}updatePlayerID(t){this.playerID=t,this.requestSync()}updateCredentials(t){this.credentials=t,this.requestSync()}}function la({server:e,socketOpts:t}={}){return n=>new q0({server:e,socketOpts:t,...n})}function Bp(e){var t;const{game:n,numPlayers:r,board:i,multiplayer:s,enhancer:o}=e;let{loading:l,debug:a}=e;return l===void 0&&(l=()=>M.createElement("div",{className:"bgio-loading"},"connecting...")),t=class extends M.Component{constructor(c){super(c),a===void 0&&(a=c.debug),this.client=Eg({game:n,debug:a,numPlayers:r,multiplayer:s,matchID:c.matchID,playerID:c.playerID,credentials:c.credentials,enhancer:o})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(c){this.props.matchID!=c.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=c.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=c.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const c=this.client.getState();if(c===null)return M.createElement(l);let d=null;return i&&(d=M.createElement(i,{...c,...this.props,isMultiplayer:!!s,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),M.createElement("div",{className:"bgio-client"},d)}},t.propTypes={matchID:_t.string,playerID:_t.string,credentials:_t.string,debug:_t.any},t.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},t}class Y0{constructor({server:t,gameComponents:n,playerName:r,playerCredentials:i}){this.client=new fp({server:t}),this.gameComponents=n,this.playerName=r||"Visitor",this.playerCredentials=i,this.matches=[]}async refresh(){try{this.matches=[];const t=await this.client.listGames();for(const n of t){if(!this._getGameComponents(n))continue;const{matches:r}=await this.client.listMatches(n);this.matches.push(...r)}}catch(t){throw new Error("failed to retrieve list of matches ("+t+")")}}_getMatchInstance(t){for(const n of this.matches)if(n.matchID===t)return n}_getGameComponents(t){for(const n of this.gameComponents)if(n.game.name===t)return n}_findPlayer(t){for(const n of this.matches)if(n.players.some(r=>r.name===t))return n}async join(t,n,r){try{let i=this._findPlayer(this.playerName);if(i)throw new Error("player has already joined "+i.matchID);if(i=this._getMatchInstance(n),!i)throw new Error("game instance "+n+" not found");const s=await this.client.joinMatch(t,n,{playerID:r,playerName:this.playerName});i.players[Number.parseInt(r)].name=this.playerName,this.playerCredentials=s.playerCredentials}catch(i){throw new Error("failed to join match "+n+" ("+i+")")}}async leave(t,n){try{const r=this._getMatchInstance(n);if(!r)throw new Error("match instance not found");for(const i of r.players)if(i.name===this.playerName){await this.client.leaveMatch(t,n,{playerID:i.id.toString(),credentials:this.playerCredentials}),delete i.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(r){throw new Error("failed to leave match "+n+" ("+r+")")}}async disconnect(){const t=this._findPlayer(this.playerName);t&&await this.leave(t.gameName,t.matchID),this.matches=[],this.playerName="Visitor"}async create(t,n){try{const r=this._getGameComponents(t);if(!r)throw new Error("game not found");if(n<r.game.minPlayers||n>r.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(t,{numPlayers:n})}catch(r){throw new Error("failed to create match for "+t+" ("+r+")")}}}function J0(e){return new Y0(e)}class Fp extends M.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=t=>{t.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=t=>{const n=t.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return M.createElement("div",null,M.createElement("p",{className:"phase-title"},"Choose a player name:"),M.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),M.createElement("span",{className:"buttons"},M.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),M.createElement("br",null),M.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,M.createElement("br",null)))}}Fp.defaultProps={playerName:""};class X0 extends M.Component{constructor(){super(...arguments),this._createSeat=t=>t.name||"[free]",this._createButtonJoin=(t,n)=>M.createElement("button",{key:"button-join-"+t.matchID,onClick:()=>this.props.onClickJoin(t.gameName,t.matchID,""+n)},"Join"),this._createButtonLeave=t=>M.createElement("button",{key:"button-leave-"+t.matchID,onClick:()=>this.props.onClickLeave(t.gameName,t.matchID)},"Leave"),this._createButtonPlay=(t,n)=>M.createElement("button",{key:"button-play-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,playerID:""+n,numPlayers:t.players.length})},"Play"),this._createButtonSpectate=t=>M.createElement("button",{key:"button-spectate-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,numPlayers:t.players.length})},"Spectate"),this._createInstanceButtons=t=>{const n=t.players.find(i=>i.name===this.props.playerName),r=t.players.find(i=>!i.name);return n&&r?this._createButtonLeave(t):r?this._createButtonJoin(t,r.id):n?M.createElement("div",null,[this._createButtonPlay(t,n.id),this._createButtonLeave(t)]):this._createButtonSpectate(t)}}render(){const t=this.props.match;let n="OPEN";return t.players.some(r=>!r.name)||(n="RUNNING"),M.createElement("tr",{key:"line-"+t.matchID},M.createElement("td",{key:"cell-name-"+t.matchID},t.gameName),M.createElement("td",{key:"cell-status-"+t.matchID},n),M.createElement("td",{key:"cell-seats-"+t.matchID},t.players.map(r=>this._createSeat(r)).join(", ")),M.createElement("td",{key:"cell-buttons-"+t.matchID},this._createInstanceButtons(t)))}}class Z0 extends M.Component{constructor(t){super(t),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,r)=>M.createElement("option",{key:"name-option-"+r,value:r},n.game.name),this._createNumPlayersOption=n=>M.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((r,i)=>i).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const r=Number.parseInt(n.target.value);this.setState({selectedGame:r,numPlayers:this.props.games[r].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of t.games){const r=n.game;r.minPlayers||(r.minPlayers=1),r.maxPlayers||(r.maxPlayers=4),console.assert(r.maxPlayers>=r.minPlayers)}this.state={selectedGame:0,numPlayers:t.games[0].game.minPlayers}}render(){return M.createElement("div",null,M.createElement("select",{value:this.state.selectedGame,onChange:t=>this.onChangeSelectedGame(t)},this.props.games.map((t,n)=>this._createGameNameOption(t,n))),M.createElement("span",null,"Players:"),M.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(t=>this._createNumPlayersOption(t))),M.createElement("span",{className:"buttons"},M.createElement("button",{onClick:this.onClickCreate},"Create")))}}var Ae;(function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"})(Ae||(Ae={}));class bp extends M.Component{constructor(t){super(t),this.state={phase:Ae.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const r=this.state.playerName;this.connection=J0({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:r,playerCredentials:this.state.credentialStore[r]})},this._updateCredentials=(n,r)=>{this.setState(i=>{const s=Object.assign({},i.credentialStore);return s[n]=r,{credentialStore:s}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:Ae.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:Ae.ENTER,errorMsg:""})},this._createMatch=async(n,r)=>{try{await this.connection.create(n,r),await this.connection.refresh(),this.setState({})}catch(i){this.setState({errorMsg:i.message})}},this._joinMatch=async(n,r,i)=>{try{await this.connection.join(n,r,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(s){this.setState({errorMsg:s.message})}},this._leaveMatch=async(n,r)=>{try{await this.connection.leave(n,r),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(i){this.setState({errorMsg:i.message})}},this._startMatch=(n,r)=>{const i=this.connection._getGameComponents(n);if(!i){this.setState({errorMsg:"game "+n+" not supported"});return}let s;if(r.numPlayers>1&&(s=this.props.gameServer?la({server:this.props.gameServer}):la()),r.numPlayers==1){const a=i.game.maxPlayers,u={};for(let c=1;c<a;c++)u[c+""]=cg;s=K0({bots:u})}const l={app:this.props.clientFactory({game:i.game,board:i.board,debug:this.props.debug,multiplayer:s}),matchID:r.matchID,playerID:r.numPlayers>1?r.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:Ae.PLAY,runningMatch:l})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:Ae.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,r)=>n.map(i=>{const{matchID:s,gameName:o,players:l}=i;return M.createElement(X0,{key:"instance-"+s,match:{matchID:s,gameName:o,players:Object.values(l)},playerName:r,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const t=sf.load("lobbyState")||{};t.phase&&t.phase===Ae.PLAY&&(t.phase=Ae.LIST),t.phase&&t.phase!==Ae.ENTER&&this._startRefreshInterval(),this.setState({phase:t.phase||Ae.ENTER,playerName:t.playerName||"Visitor",credentialStore:t.credentialStore||{}})}componentDidUpdate(t,n){const r=this.state.playerName,i=this.state.credentialStore[r];if(n.phase!==this.state.phase||n.credentialStore[r]!==i||n.playerName!==r){this._createConnection(this.props),this._updateConnection();const s={phase:this.state.phase,playerName:r,credentialStore:this.state.credentialStore};sf.save("lobbyState",s,{path:"/"})}t.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:t,renderer:n}=this.props,{errorMsg:r,playerName:i,phase:s,runningMatch:o}=this.state;return n?n({errorMsg:r,gameComponents:t,matches:this.connection.matches,phase:s,playerName:i,runningMatch:o,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):M.createElement("div",{id:"lobby-view",style:{padding:50}},M.createElement("div",{className:this._getPhaseVisibility(Ae.ENTER)},M.createElement(Fp,{key:i,playerName:i,onEnter:this._enterLobby})),M.createElement("div",{className:this._getPhaseVisibility(Ae.LIST)},M.createElement("p",null,"Welcome, ",i),M.createElement("div",{className:"phase-title",id:"match-creation"},M.createElement("span",null,"Create a match:"),M.createElement(Z0,{games:t,createMatch:this._createMatch})),M.createElement("p",{className:"phase-title"},"Join a match:"),M.createElement("div",{id:"instances"},M.createElement("table",null,M.createElement("tbody",null,this.renderMatches(this.connection.matches,i))),M.createElement("span",{className:"error-msg"},r,M.createElement("br",null))),M.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),M.createElement("div",{className:this._getPhaseVisibility(Ae.PLAY)},o&&M.createElement(o.app,{matchID:o.matchID,playerID:o.playerID,credentials:o.credentials}),M.createElement("div",{className:"buttons",id:"match-exit"},M.createElement("button",{onClick:this._exitMatch},"Exit match"))),M.createElement("div",{className:"buttons",id:"lobby-exit"},M.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}bp.propTypes={gameComponents:_t.array.isRequired,lobbyServer:_t.string,gameServer:_t.string,debug:_t.bool,clientFactory:_t.func,refreshInterval:_t.number};bp.defaultProps={debug:!1,clientFactory:Bp,refreshInterval:2e3};const ew=({G:e,ctx:t},n)=>{const r=t.currentPlayer,i=e.players[r];if(!n||n.length===0)return Ee;const s=[];for(const c of n){const d=i.hand.find(p=>p.id===c);if(!d)return Ee;s.push(d)}s.filter(c=>c.rank===0);const o=s.filter(c=>c.rank!==0);if(new Set(o.map(c=>c.rank)).size>1)return Ee;const a=o.length>0?o[0].rank:0;if(e.currentTrick!==null&&(s.length!==e.currentTrick.count||a>=e.currentTrick.rank&&a!==0||a!==0&&a>=e.currentTrick.rank))return Ee;const u=new Set(n);i.hand=i.hand.filter(c=>!u.has(c.id)),e.currentTrick={cards:s,rank:a,count:s.length,playedBy:r},e.lastPlayerToPlay=r,e.passedPlayers=[],i.hand.length===0&&(i.finished=!0,i.finishPosition=e.finishOrder.length+1,e.finishOrder.push(r))},tw=({G:e,ctx:t})=>{if(e.currentTrick===null)return Ee;e.passedPlayers.push(t.currentPlayer)},nw=({G:e,ctx:t},n)=>{const r=t.currentPlayer,i=e.taxDebts.find(a=>a.fromPlayerID===r&&a.offeredCards.length===0);if(!i||n.length!==i.count)return Ee;const s=e.players[r],o=[];for(const a of n){const u=s.hand.find(c=>c.id===a);if(!u)return Ee;o.push(u)}const l=new Set(n);s.hand=s.hand.filter(a=>!l.has(a.id)),i.offeredCards=o},rw=({G:e,ctx:t},n)=>{const r=t.currentPlayer,i=e.taxDebts.find(u=>u.toPlayerID===r&&u.offeredCards.length>0);if(!i||n.length!==i.count)return Ee;const s=e.players[r],o=e.players[i.fromPlayerID],l=[];for(const u of n){const c=s.hand.find(d=>d.id===u);if(!c)return Ee;l.push(c)}const a=new Set(n);s.hand=s.hand.filter(u=>!a.has(u.id)),s.hand.push(...i.offeredCards),o.hand.push(...l),i.offeredCards=[],i.count=0},iw={start:!1,onBegin:({G:e,ctx:t})=>{const n=e.finishOrder,r=t.numPlayers;e.taxDebts=[],n.length>=2&&e.taxDebts.push({fromPlayerID:n[r-1],toPlayerID:n[0],count:2,offeredCards:[]}),n.length>=4&&e.taxDebts.push({fromPlayerID:n[r-2],toPlayerID:n[1],count:1,offeredCards:[]})},onEnd:({G:e})=>{e.taxDebts=[]},endIf:({G:e})=>e.taxDebts.every(n=>n.count===0)?!0:void 0,next:"play",turn:{activePlayers:{all:"waitingForTax",moveLimit:1},stages:{waitingForTax:{moves:{offerTax:{move:nw,client:!1},giveBackCards:{move:rw,client:!1}}}}}},sw={start:!1,onBegin:({G:e})=>{e.currentTrick=null,e.lastPlayerToPlay=null,e.passedPlayers=[];for(const t of Object.keys(e.players))e.players[t].finished=!1,e.players[t].finishPosition=null;e.finishOrder=[]},onEnd:({G:e})=>{e.finishOrder.forEach((t,n)=>{e.players[t].socialRank=n+1}),e.roundNumber+=1},endIf:({G:e,ctx:t})=>Object.values(e.players).filter(r=>!r.finished).length===0?!0:void 0,next:"tax",moves:{playCards:ew,pass:tw},turn:{endIf:({G:e,ctx:t})=>{if(e.currentTrick===null)return;if(Object.keys(e.players).filter(i=>!e.players[i].finished).filter(i=>i!==e.lastPlayerToPlay&&!e.passedPlayers.includes(i)).length===0&&e.lastPlayerToPlay!==null)return{next:e.lastPlayerToPlay}},order:{first:({G:e,ctx:t})=>{if(e.lastPlayerToPlay!==null){const n=t.playOrder.indexOf(e.lastPlayerToPlay);return n>=0?n:0}if(e.finishOrder.length>0){const n=e.finishOrder[0],r=t.playOrder.indexOf(n);return r>=0?r:0}return 0},next:({G:e,ctx:t})=>{var i;let n=(t.playOrderPos+1)%t.playOrder.length,r=0;for(;(i=e.players[t.playOrder[n]])!=null&&i.finished&&r<t.playOrder.length;)n=(n+1)%t.playOrder.length,r++;return n}}}};function ow(){const e=[];let t=0;for(let n=0;n<2;n++)e.push({rank:0,id:`jester-${t++}`});for(let n=1;n<=12;n++)for(let r=0;r<n;r++)e.push({rank:n,id:`r${n}-${r}-${t++}`});return e}const lw={name:"great-dalmuti",minPlayers:4,maxPlayers:8,setup:({ctx:e,random:t})=>{const n=t.Shuffle(ow()),r={};for(let s=0;s<e.numPlayers;s++)r[String(s)]=[];n.forEach((s,o)=>{r[String(o%e.numPlayers)].push(s)});const i={};for(let s=0;s<e.numPlayers;s++){const o=String(s);i[o]={hand:r[o],socialRank:null,name:`Player ${s+1}`,finished:!1,finishPosition:null}}return{players:i,currentTrick:null,lastPlayerToPlay:null,finishOrder:[],taxDebts:[],passedPlayers:[],roundNumber:1}},playerView:({G:e,playerID:t})=>{if(t===null)return e;const n={};for(const[r,i]of Object.entries(e.players))n[r]=r===t?i:{...i,hand:[]};return{...e,players:n}},phases:{play:{...sw,start:!0},tax:iw},endIf:({G:e,ctx:t})=>{if(e.finishOrder.length===t.numPlayers)return{finishOrder:e.finishOrder}}},aw="_card_1h9de_1",uw="_rankTop_1h9de_21",cw="_rankBottom_1h9de_26",fw="_center_1h9de_32",dw="_back_1h9de_36",hw="_jester_1h9de_40",pw="_interactive_1h9de_45",mw="_selected_1h9de_54",yw="_faceDown_1h9de_61",Tt={card:aw,rankTop:uw,rankBottom:cw,center:fw,back:dw,jester:hw,interactive:pw,selected:mw,faceDown:yw},vw={0:"J",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"};function Up({card:e,selected:t,onClick:n,interactive:r,faceDown:i}){const s=e.rank===0,o=vw[e.rank];return P.jsx("button",{className:[Tt.card,s?Tt.jester:"",t?Tt.selected:"",r?Tt.interactive:"",i?Tt.faceDown:""].filter(Boolean).join(" "),onClick:r?n:void 0,"aria-pressed":t,"aria-label":s?"Jester (wild)":`Rank ${e.rank}`,disabled:!r,children:i?P.jsx("span",{className:Tt.back,children:""}):P.jsxs(P.Fragment,{children:[P.jsx("span",{className:Tt.rankTop,children:o}),P.jsx("span",{className:Tt.center,children:s?"":o}),P.jsx("span",{className:Tt.rankBottom,children:o})]})})}const gw="_handArea_145bi_1",ww="_taxPrompt_145bi_10",_w="_cards_145bi_17",Sw="_actions_145bi_26",kw="_playBtn_145bi_50",Ew="_passBtn_145bi_55",Pw="_taxBtn_145bi_61",wn={handArea:gw,taxPrompt:ww,cards:_w,actions:Sw,playBtn:kw,passBtn:Ew,taxBtn:Pw};function xw({cards:e,isMyTurn:t,currentTrick:n,inTaxPhase:r,taxDebt:i,onPlayCards:s,onPass:o,onOfferTax:l}){const[a,u]=Je.useState(new Set),c=f=>{u(h=>{const g=new Set(h);return g.has(f)?g.delete(f):g.add(f),g})},d=()=>{a.size!==0&&(s([...a]),u(new Set))},p=()=>{u(new Set),o()},v=()=>{!i||a.size!==i.count||(l([...a]),u(new Set))},w=[...e].sort((f,h)=>f.rank===0?-1:h.rank===0?1:f.rank-h.rank),S=t&&!r&&a.size>0,C=t&&!r&&n!==null,m=r&&i!==null&&a.size===i.count;return P.jsxs("div",{className:wn.handArea,children:[r&&i&&P.jsxs("div",{className:wn.taxPrompt,children:["Select ",i.count," card",i.count>1?"s":""," to pay as tax"]}),P.jsx("div",{className:wn.cards,children:w.map(f=>P.jsx(Up,{card:f,selected:a.has(f.id),onClick:()=>c(f.id),interactive:t||r&&i!==null},f.id))}),P.jsxs("div",{className:wn.actions,children:[!r&&P.jsxs(P.Fragment,{children:[P.jsxs("button",{className:wn.playBtn,onClick:d,disabled:!S,children:["Play (",a.size,")"]}),P.jsx("button",{className:wn.passBtn,onClick:p,disabled:!C,children:"Pass"})]}),r&&i&&P.jsxs("button",{className:wn.taxBtn,onClick:v,disabled:!m,children:["Pay Tax (",a.size,"/",i.count,")"]})]})]})}const Cw="_playArea_usyl0_1",Nw="_empty_usyl0_12",Ow="_trick_usyl0_17",Tw="_trickLabel_usyl0_24",Iw="_cards_usyl0_31",Ar={playArea:Cw,empty:Nw,trick:Ow,trickLabel:Tw,cards:Iw};function Mw({currentTrick:e}){return P.jsx("div",{className:Ar.playArea,children:e===null?P.jsx("p",{className:Ar.empty,children:"Lead a trick to begin"}):P.jsxs("div",{className:Ar.trick,children:[P.jsxs("p",{className:Ar.trickLabel,children:[e.count," Rank ",e.rank===0?"Jester":e.rank]}),P.jsx("div",{className:Ar.cards,children:e.cards.map(t=>P.jsx(Up,{card:t},t.id))})]})})}const Dw="_playerList_1pig3_1",Aw="_player_1pig3_1",Rw="_active_1pig3_17",Lw="_me_1pig3_21",jw="_finished_1pig3_25",zw="_nameRow_1pig3_29",Bw="_name_1pig3_29",Fw="_meTag_1pig3_44",bw="_title_1pig3_54",Uw="_stats_1pig3_61",gt={playerList:Dw,player:Aw,active:Rw,me:Lw,finished:jw,nameRow:zw,name:Bw,meTag:Fw,title:bw,stats:Uw};function $w({players:e,currentPlayer:t,playerID:n,matchData:r,finishOrder:i}){const s=Object.keys(e),o=s.length,l=c=>{const d=e[c].socialRank;return d===null?"":d===1?"Great Dalmuti":d===2?"Lesser Dalmuti":d===o?"Greater Peon":d===o-1?"Lesser Peon":`Merchant ${d-2}`},a=c=>{const d=r==null?void 0:r.find(p=>String(p.id)===c);return(d==null?void 0:d.name)??e[c].name??`Player ${c}`},u=c=>{const d=i.indexOf(c);return d>=0?d+1:null};return P.jsx("div",{className:gt.playerList,children:s.map(c=>{const d=e[c],p=c===t,v=c===n,w=d.finished,S=u(c),C=l(c);return P.jsxs("div",{className:[gt.player,p?gt.active:"",v?gt.me:"",w?gt.finished:""].filter(Boolean).join(" "),children:[P.jsxs("div",{className:gt.nameRow,children:[P.jsx("span",{className:gt.name,children:a(c)}),v&&P.jsx("span",{className:gt.meTag,children:"You"})]}),C&&P.jsx("span",{className:gt.title,children:C}),P.jsxs("div",{className:gt.stats,children:[P.jsxs("span",{children:[d.hand.length," cards"]}),S!==null&&P.jsxs("span",{children:["#",S," out"]})]})]},c)})})}const Vw="_board_1nw1g_1",Hw="_header_1nw1g_9",Ww="_title_1nw1g_18",Gw="_meta_1nw1g_25",Qw="_phase_1nw1g_33",Kw="_yourTurn_1nw1g_39",qw="_main_1nw1g_53",Yw="_center_1nw1g_59",Jw="_gameoverOverlay_1nw1g_66",Xw="_gameoverBox_1nw1g_76",Zw="_finishList_1nw1g_90",ot={board:Vw,header:Hw,title:Ww,meta:Gw,phase:Qw,yourTurn:Kw,main:qw,center:Yw,gameoverOverlay:Jw,gameoverBox:Xw,finishList:Zw};function e_({G:e,ctx:t,moves:n,playerID:r,isActive:i,matchData:s}){const o=r!==null?e.players[r]:null,l=i&&t.currentPlayer===r,a=t.phase==="tax",u=a&&r!==null?e.taxDebts.find(c=>c.fromPlayerID===r)??null:null;return P.jsxs("div",{className:ot.board,children:[P.jsxs("header",{className:ot.header,children:[P.jsx("h1",{className:ot.title,children:"The Great Dalmuti"}),P.jsxs("div",{className:ot.meta,children:[P.jsxs("span",{children:["Round ",e.roundNumber]}),P.jsx("span",{className:ot.phase,children:a?"Tax Collection":"Play"}),l&&P.jsx("span",{className:ot.yourTurn,children:"Your Turn"})]})]}),P.jsxs("div",{className:ot.main,children:[P.jsx($w,{players:e.players,currentPlayer:t.currentPlayer,playerID:r,matchData:s,finishOrder:e.finishOrder}),P.jsx("div",{className:ot.center,children:P.jsx(Mw,{currentTrick:e.currentTrick})})]}),o&&P.jsx(xw,{cards:o.hand,isMyTurn:l,currentTrick:e.currentTrick,inTaxPhase:a,taxDebt:u,onPlayCards:c=>n.playCards(c),onPass:()=>n.pass(),onOfferTax:c=>n.offerTax(c)}),t.gameover&&P.jsx("div",{className:ot.gameoverOverlay,children:P.jsxs("div",{className:ot.gameoverBox,children:[P.jsx("h2",{children:"Round Over!"}),P.jsx("ol",{className:ot.finishList,children:t.gameover.finishOrder.map((c,d)=>{var v;const p=((v=s==null?void 0:s.find(w=>String(w.id)===c))==null?void 0:v.name)??`Player ${c}`;return P.jsxs("li",{children:[d===0?" ":"",p]},c)})})]})})]})}const t_=`${window.location.protocol}//${window.location.host}`,n_=Bp({game:lw,board:e_,multiplayer:la({server:t_}),debug:!1}),r_=n_,i_="_lobby_wfgni_1",s_="_card_wfgni_9",o_="_title_wfgni_18",l_="_subtitle_wfgni_25",a_="_field_wfgni_33",u_="_label_wfgni_40",c_="_input_wfgni_48",f_="_sections_wfgni_63",d_="_section_wfgni_63",h_="_divider_wfgni_80",p_="_primaryBtn_wfgni_86",m_="_secondaryBtn_wfgni_87",y_="_matchCreated_wfgni_115",v_="_matchID_wfgni_123",g_="_hint_wfgni_132",w_="_error_wfgni_137",J={lobby:i_,card:s_,title:o_,subtitle:l_,field:a_,label:u_,input:c_,sections:f_,section:d_,divider:h_,primaryBtn:p_,secondaryBtn:m_,matchCreated:y_,matchID:v_,hint:g_,error:w_};function __({serverURL:e}){const[t,n]=Je.useState("lobby"),[r,i]=Je.useState(""),[s,o]=Je.useState(4),[l,a]=Je.useState(""),[u,c]=Je.useState(null),[d,p]=Je.useState(""),[v,w]=Je.useState(!1),S=new fp({server:e}),C=async()=>{if(r.trim()){w(!0),p("");try{const{matchID:f}=await S.createMatch("great-dalmuti",{numPlayers:s}),{playerCredentials:h}=await S.joinMatch("great-dalmuti",f,{playerID:"0",playerName:r.trim()});c({matchID:f,playerID:"0",credentials:h}),n("game")}catch(f){p(String(f))}finally{w(!1)}}},m=async()=>{if(!(!r.trim()||!l.trim())){w(!0),p("");try{const h=(await S.getMatch("great-dalmuti",l.trim())).players.find(x=>!x.name);if(!h){p("This game is full.");return}const{playerCredentials:g}=await S.joinMatch("great-dalmuti",l.trim(),{playerID:String(h.id),playerName:r.trim()});c({matchID:l.trim(),playerID:String(h.id),credentials:g}),n("game")}catch(f){p(String(f))}finally{w(!1)}}};return t==="game"&&u?P.jsx(r_,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}):P.jsx("div",{className:J.lobby,children:P.jsxs("div",{className:J.card,children:[P.jsx("h1",{className:J.title,children:"The Great Dalmuti"}),P.jsx("p",{className:J.subtitle,children:"An online card game for 48 players"}),P.jsxs("div",{className:J.field,children:[P.jsx("label",{className:J.label,htmlFor:"playerName",children:"Your Name"}),P.jsx("input",{id:"playerName",className:J.input,type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"Enter your name",maxLength:24})]}),P.jsxs("div",{className:J.sections,children:[P.jsxs("section",{className:J.section,children:[P.jsx("h2",{children:"Create Game"}),P.jsxs("div",{className:J.field,children:[P.jsx("label",{className:J.label,htmlFor:"numPlayers",children:"Players"}),P.jsx("input",{id:"numPlayers",className:J.input,type:"number",min:4,max:8,value:s,onChange:f=>o(Math.min(8,Math.max(4,Number(f.target.value))))})]}),P.jsx("button",{className:J.primaryBtn,onClick:C,disabled:!r.trim()||v,children:v?"Creating":"Create & Join"})]}),P.jsx("div",{className:J.divider}),P.jsxs("section",{className:J.section,children:[P.jsx("h2",{children:"Join Game"}),P.jsxs("div",{className:J.field,children:[P.jsx("label",{className:J.label,htmlFor:"matchID",children:"Match ID"}),P.jsx("input",{id:"matchID",className:J.input,type:"text",value:l,onChange:f=>a(f.target.value),placeholder:"Paste match ID"})]}),P.jsx("button",{className:J.secondaryBtn,onClick:m,disabled:!r.trim()||!l.trim()||v,children:v?"Joining":"Join"})]})]}),u&&t==="lobby"&&P.jsxs("div",{className:J.matchCreated,children:[P.jsx("p",{children:"Match created!"}),P.jsx("code",{className:J.matchID,children:u.matchID}),P.jsx("p",{className:J.hint,children:"Share this ID with other players."})]}),d&&P.jsx("p",{className:J.error,children:d})]})})}const S_=`${window.location.protocol}//${window.location.hostname}:8000`;function k_(){return P.jsx(__,{serverURL:S_})}const $p=document.getElementById("root");if(!$p)throw new Error("Root element not found");Nh($p).render(P.jsx(Je.StrictMode,{children:P.jsx(k_,{})}));
